(this["webpackJsonpsocial-network-ts"]=this["webpackJsonpsocial-network-ts"]||[]).push([[0],[,,,,,,,function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"k",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"j",(function(){return u})),n.d(t,"l",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"q",(function(){return d})),n.d(t,"r",(function(){return b})),n.d(t,"f",(function(){return f})),n.d(t,"p",(function(){return j})),n.d(t,"g",(function(){return p})),n.d(t,"n",(function(){return O})),n.d(t,"o",(function(){return m})),n.d(t,"a",(function(){return v})),n.d(t,"h",(function(){return g})),n.d(t,"m",(function(){return h}));var r=function(e){return e.auth.isAuth},c=function(e){return e.auth.login},a=function(e){return e.auth.id},s=function(e){return e.auth.captcha},o=function(e){return e.auth.error},u=function(e){return e.app.isInitSuccess},i=function(e){return e.users.items},l=function(e){return e.users.currentPage},d=function(e){return e.users.totalPagesCount},b=function(e){return e.users.term},f=function(e){return e.profile.currentProfile},j=function(e){return e.profile.status},p=function(e){var t;return null===(t=e.profile.currentProfile)||void 0===t?void 0:t.userId},O=function(e){return e.profile.newPostMessage},m=function(e){return e.profile.posts},v=function(e){return e.profile.additionalUserInfo},g=function(e){return e.dialogs.dialogs},h=function(e){return e.dialogs.messages}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return d}));var r,c=n(6),a=n(3),s=n.n(a),o=n(20),u=n.n(o),i=n(12);!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR"}(r||(r={}));var l=u.a.create(i.b),d={getUsers:function(e){return l.get("/users",{params:e})},follow:function(e){return l.post("/follow/".concat(e))},unFollow:function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.delete("/follow/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return p}));var r=n(29),c=n(60),a=n(61),s=n(13),o=n(15),u=n(47),i=n(24),l=n(36),d=n(5),b=Object(r.combineReducers)({profile:s.b,dialogs:o.b,users:u.a,auth:i.a,app:l.a}),f=[a.a],j=Object(r.createStore)(b,Object(c.composeWithDevTools)(r.applyMiddleware.apply(void 0,f)));function p(e){return Object(d.c)(e)}window.store=j},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var r,c=n(2),a=n(20),s=n.n(a);!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR",e[e.CAPTCHA_IS_REQUIRED=10]="CAPTCHA_IS_REQUIRED"}(r||(r={}));var o={baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"8ac432b4-b12d-401e-8457-1e2c87c081fe"}},u=Object(c.a)(Object(c.a)({},o),{},{baseURL:"https://social-network.samuraijs.com/api/1.0/auth/"}),i=s.a.create(u),l={me:function(){return i.get("me")},login:function(e){return i.post("login",e)},logOut:function(){return i.delete("login")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"d",(function(){return _})),n.d(t,"f",(function(){return E})),n.d(t,"h",(function(){return k})),n.d(t,"c",(function(){return y})),n.d(t,"g",(function(){return A})),n.d(t,"e",(function(){return T})),n.d(t,"j",(function(){return I})),n.d(t,"i",(function(){return N}));var r=n(10),c=n(6),a=n(23),s=n(2),o=n(3),u=n.n(o),i=n(100),l=n(8),d=n(20),b=n.n(d),f=n(12),j=Object(s.a)(Object(s.a)({},f.b),{},{baseURL:"".concat(f.b.baseURL,"profile/")}),p=b.a.create(j),O=function(e){return p.get("".concat(e))},m=function(e){return p.get("status/".concat(e))},v=function(e){return p.put("status",{status:e})},g=function(e){var t=new FormData;return t.append("image",e),p.put("photo",t,{headers:{"Content-type":"multipart/form-data"}})},h=function(e){return p.put("",e)},x={posts:[{id:Object(i.a)(),message:"Hi man",likesCount:50},{id:Object(i.a)(),message:"How are you",likesCount:150}],newPostMessage:"",currentProfile:null,status:"",additionalUserInfo:{}},S=function(){return{type:"ADD_POST"}},_=function(e){return{type:"ON_POST_CHANGE",newValue:e}},E=function(e){return{type:"SET_PROFILE",currentProfile:e}},C=function(e){return{type:"SET_PHOTOS",photos:e}},k=function(e){return{type:"SET_STATUS",status:e}},w=function(e){return{type:"SET_ADDITIONAL_INFO",info:e}},y=function(e){return function(){var t=Object(c.a)(u.a.mark((function t(n){var c,a,s,o,i,d,b,f,j;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e);case 2:return(c=t.sent)&&c.data&&c.data.fullName&&(a=l.b.getUsers({term:c.data.fullName})),s=m(e),t.next=7,Promise.all([a,s]);case 7:o=t.sent,i=Object(r.a)(o,2),d=i[0],b=i[1],f={},200===c.status&&(f.currentProfile=c.data),200===(null===d||void 0===d?void 0:d.status)&&(j=d.data.items.find((function(t){return t.id===+e})))&&(f.additionalUserInfo=j),200===b.status&&(f.status=b.data),n({type:"SET_PROFILE_STATE",payload:f});case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(c.a)(u.a.mark((function t(n){var r,c,a,s,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(e);case 3:r=t.sent,c=r.status,a=r.data,s=a.messages,o=a.resultCode,200===c&&o===l.a.SUCCESS&&n(k(e)),s[0]&&console.log(s[0]),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(c.a)(u.a.mark((function t(n){var r,c,a,s,o,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g(e);case 3:r=t.sent,c=r.status,a=r.data,s=a.resultCode,o=a.messages,i=a.data.photos,200===c&&s===l.a.SUCCESS&&n(C(i)),o[0]&&console.log(o[0]),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(c.a)(u.a.mark((function t(n,r){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=r().profile.currentProfile,console.log(Object(s.a)(Object(s.a)({},c),e)),t.next=5,h(e);case 5:if(t.t0=c,!t.t0){t.next=9;break}return t.next=9,n(y(c.userId.toString()));case 9:return t.abrupt("return",!0);case 12:t.prev=12,t.t1=t.catch(0),console.log(t.t1);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(c.a)(u.a.mark((function t(n){var r,c,a,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.followed?l.b.follow:l.b.unFollow,t.next=4,r(e.id);case 4:c=t.sent,a=c.status,s=c.data.resultCode,200===a&&s===l.a.SUCCESS&&n(w(e)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return e.newPostMessage.trim()?Object(s.a)(Object(s.a)({},e),{},{posts:[].concat(Object(a.a)(e.posts),[{id:Object(i.a)(),message:e.newPostMessage,likesCount:0}]),newPostMessage:""}):Object(s.a)(Object(s.a)({},e),{},{newPostMessage:""});case"ON_POST_CHANGE":return Object(s.a)(Object(s.a)({},e),{},{newPostMessage:t.newValue});case"SET_PROFILE":return Object(s.a)(Object(s.a)({},e),{},{currentProfile:t.currentProfile});case"SET_STATUS":return Object(s.a)(Object(s.a)({},e),{},{status:t.status});case"SET_PHOTOS":return e.currentProfile?Object(s.a)(Object(s.a)({},e),{},{currentProfile:Object(s.a)(Object(s.a)({},e.currentProfile),{},{photos:t.photos})}):e;case"SET_ADDITIONAL_INFO":return Object(s.a)(Object(s.a)({},e),{},{additionalUserInfo:t.info});case"SET_PROFILE_STATE":return Object(s.a)(Object(s.a)({},e),t.payload);default:return e}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return w})),n.d(t,"g",(function(){return y})),n.d(t,"i",(function(){return A})),n.d(t,"h",(function(){return T})),n.d(t,"c",(function(){return I})),n.d(t,"f",(function(){return N}));var r=n(6),c=n(23),a=n(2),s=n(3),o=n.n(s),u=n(20),i=n.n(u),l=n(12),d=Object(a.a)(Object(a.a)({},l.b),{},{baseURL:"".concat(l.b.baseURL,"dialogs/")}),b=i.a.create(d),f=function(){return b.get("")},j=function(e){return b.get("".concat(e,"/messages"))},p=function(e){return b.put("".concat(e))},O=function(e,t){return b.post("".concat(e,"/messages"),{body:t})},m=function(e){return b.post("messages/".concat(e,"/spam"))},v=function(e){return b.delete("messages/".concat(e))},g=function(e){return b.put("messages/".concat(e,"/restore"))},h=n(8),x={dialogs:[],messages:{items:[],error:null,totalCount:0}},S=function(e){return{type:"ADD_MESSAGE",message:e}},_=function(){return{type:"CLEAR_STATE",initState:x}},E=function(e){return{type:"MARK_MESSAGE_AS_DELETED",messageId:e}},C=function(e){return{type:"MARK_MESSAGE_AS_NOT_DELETED",messageId:e}},k=function(){return function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:n=e.sent,r=n.data,200===n.status&&r.length&&t({type:"SET_DIALOGS",dialogs:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(n){var r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j(e);case 3:r=t.sent,c=r.data,200===r.status&&n({type:"SET_MESSAGES",messages:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e,t){return function(){var n=Object(r.a)(o.a.mark((function n(r){var c,a,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,O(e,t);case 3:c=n.sent,a=c.data,s=a.data.message,a.resultCode===h.a.SUCCESS&&r(S(s)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(n){var r,c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p(e);case 3:r=t.sent,c=r.status,a=r.data.resultCode,200===c&&a===h.a.SUCCESS&&n(k()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return Object(r.a)(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m(e);case 3:n=t.sent,r=n.data.resultCode,200===n.status&&r===h.a.SUCCESS&&console.log('message with id: "'.concat(e,'" successfully sent to spam')),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))},I=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(n){var r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(e);case 3:r=t.sent,c=r.data.resultCode,200===r.status&&c===h.a.SUCCESS&&n(E(e)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(n){var r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g(e);case 3:r=t.sent,c=r.data.resultCode,200===r.status&&c===h.a.SUCCESS&&n(C(e)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DIALOGS":return Object(a.a)(Object(a.a)({},e),{},{dialogs:t.dialogs});case"SET_MESSAGES":return Object(a.a)(Object(a.a)({},e),{},{messages:Object(a.a)(Object(a.a)({},t.messages),{},{items:t.messages.items.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{deleted:!1})}))})});case"CLEAR_STATE":return t.initState;case"ADD_MESSAGE":return Object(a.a)(Object(a.a)({},e),{},{messages:Object(a.a)(Object(a.a)({},e.messages),{},{items:[].concat(Object(c.a)(e.messages.items),[Object(a.a)(Object(a.a)({},t.message),{},{deleted:!1})]),totalCount:e.messages.totalCount+1})});case"SET_MESSAGE_VIEWED":var n=e.messages.items.find((function(e){return e.id===t.messageId}));return(null===n||void 0===n?void 0:n.viewed)===t.viewed?e:Object(a.a)(Object(a.a)({},e),{},{messages:Object(a.a)(Object(a.a)({},e.messages),{},{items:e.messages.items.map((function(e){return e.id===t.messageId?Object(a.a)(Object(a.a)({},e),{},{viewed:t.viewed}):e}))})});case"MARK_MESSAGE_AS_DELETED":return Object(a.a)(Object(a.a)({},e),{},{messages:Object(a.a)(Object(a.a)({},e.messages),{},{items:e.messages.items.map((function(e){return e.id===t.messageId?Object(a.a)(Object(a.a)({},e),{},{deleted:!0}):e}))})});case"MARK_MESSAGE_AS_NOT_DELETED":return Object(a.a)(Object(a.a)({},e),{},{messages:Object(a.a)(Object(a.a)({},e.messages),{},{items:e.messages.items.map((function(e){return e.id===t.messageId?Object(a.a)(Object(a.a)({},e),{},{deleted:!1}):e}))})});default:return e}}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return m}));var r=n(6),c=n(2),a=n(3),s=n.n(a),o=n(12),u=n(8),i=n(20),l=n.n(i),d=function(){return l.a.get("security/get-captcha-url",o.b)},b={id:null,login:null,email:null,captcha:null,isAuth:!1,error:null},f=function(e){return{type:"SET_USER_DATA",payload:e}},j=function(e){return{type:"SET_ERROR",error:e}},p=function(){return function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r,a,u,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.me();case 3:n=e.sent,r=n.status,a=n.data,u=a.messages,i=a.resultCode,l=a.data,200===r&&0===i&&t(f(Object(c.a)(Object(c.a)({},l),{},{isAuth:!0}))),u[0]&&console.log(u[0]),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(r.a)(s.a.mark((function t(n){var r,c,a,u,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.login(e);case 3:return r=t.sent,c=r.status,a=r.data,u=a.messages,i=a.resultCode,200===c&&i===o.c.SUCCESS?n(p()):i===o.c.ERROR&&u[0]?n(j(u[0])):i===o.c.CAPTCHA_IS_REQUIRED&&(n(j(u[0])),n(v())),t.abrupt("return");case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},m=function(){return function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r,c,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.logOut();case 3:n=e.sent,r=n.status,c=n.data,a=c.messages,i=c.resultCode,200===r&&i===u.a.SUCCESS?t(f(b)):a[0]&&console.log(a[0]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},v=function(){return function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d();case 3:n=e.sent,r=n.data.url,t(f({captcha:r})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(c.a)(Object(c.a)({},e),t.payload);case"SET_ERROR":return Object(c.a)(Object(c.a)({},e),{},{error:t.error});default:return e}}},,,function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2kFjo",dialogsItems:"Dialogs_dialogsItems__s8pKg",dialog:"Dialogs_dialog__3sjE3",messages:"Dialogs_messages__2NsY6",addMessageForm:"Dialogs_addMessageForm__1PCt5"}},,,function(e,t,n){e.exports={postItem:"Post_postItem__19X4w",postContent:"Post_postContent__NaiCM"}},function(e,t,n){e.exports={message:"Message_message__15grG",userMessage:"Message_userMessage__5V8YA",deleted:"Message_deleted__2jdCO",restore:"Message_restore__3apcv"}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(0);var r=n(44),c=n.n(r),a=n(1),s=function(){return Object(a.jsx)("div",{className:c.a.container,children:Object(a.jsxs)("div",{className:c.a.ldsRipple,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(2),c=n(24),a={isInitSuccess:!1,appStatus:"idle"},s=function(){return function(e){var t=e(Object(c.b)());Promise.all([t]).then((function(){e({type:"SET_INIT_SUCCESS"})}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;return"SET_INIT_SUCCESS"===t.type?Object(r.a)(Object(r.a)({},e),{},{isInitSuccess:!0}):e}},,,function(e,t,n){e.exports={appWrapper:"App_appWrapper__25_mc",appWrapperContent:"App_appWrapperContent__3Qvhf"}},function(e,t,n){e.exports={wrapper:"ContextMenu_wrapper__1CUlW",menu:"ContextMenu_menu__1GXSa",actionsList:"ContextMenu_actionsList__tZ5DF"}},,,function(e,t,n){e.exports={item:"SuperLink_item__1TDuK",active:"SuperLink_active__3WhmZ"}},function(e,t,n){e.exports={container:"Preloader_container__1hxPd",ldsRipple:"Preloader_ldsRipple__3vP0n"}},function(e,t,n){e.exports={profileInfo:"ProfileInfo_profileInfo__2oKQW",description:"ProfileInfo_description__1PfUA"}},function(e,t,n){e.exports={updateProfile:"UpdateProfile_updateProfile__29J1S",modal:"UpdateProfile_modal__1TRFM",wrapper:"UpdateProfile_wrapper__2KVW2"}},function(e,t,n){"use strict";n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return j})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return O})),n.d(t,"c",(function(){return m}));var r=n(6),c=n(23),a=n(2),s=n(3),o=n.n(s),u=n(8),i={items:[],totalItemsCount:0,currentPage:1,pageSize:10,totalPagesCount:1,term:"",friend:void 0},l=function(e){return{type:"FOLLOW",userId:e}},d=function(e){return{type:"UN_FOLLOW",userId:e}},b=function(e){return{type:"SET_USERS",items:e}},f=function(e){return{type:"SET_CURRENT_PAGE",pageNumber:e}},j=function(e){return{type:"SET_SEARCH_PARAMS",payload:e}},p=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(n){var r,c,a,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.b.follow(e);case 3:r=t.sent,c=r.status,a=r.data,s=a.resultCode,i=a.messages,200===c&&s===u.a.SUCCESS?n(l(e)):i[0]&&console.log(i[0]),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(n){var r,c,a,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.b.unFollow(e);case 3:if(r=t.sent,c=r.status,a=r.data,s=a.resultCode,i=a.messages,200!==c||s!==u.a.SUCCESS){t.next=13;break}return n(d(e)),t.abrupt("return","OK");case 13:i[0]&&console.log(i[0]);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(n,r){var c,s,i,l,d,f,j,p,O;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=r().users,s=c.currentPage,i=c.friend,l=c.pageSize,d=c.term,t.next=4,u.b.getUsers(Object(a.a)({page:s,count:l,friend:i,term:d},e));case 4:f=t.sent,j=f.data,200===f.status&&j&&(p=j.items,O=j.totalCount,n({type:"SET_TOTAL_ITEMS_COUNT",totalItemsCount:O}),n(b(p))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(a.a)(Object(a.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userId?Object(a.a)(Object(a.a)({},e),{},{followed:!0}):e}))});case"UN_FOLLOW":return Object(a.a)(Object(a.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userId?Object(a.a)(Object(a.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(a.a)(Object(a.a)({},e),{},{items:Object(c.a)(t.items)});case"SET_CURRENT_PAGE":return Object(a.a)(Object(a.a)({},e),{},{currentPage:t.pageNumber});case"SET_TOTAL_ITEMS_COUNT":return Object(a.a)(Object(a.a)({},e),{},{totalItemsCount:t.totalItemsCount,totalPagesCount:Math.ceil(t.totalItemsCount/e.pageSize)});case"SET_SEARCH_PARAMS":return Object(a.a)(Object(a.a)({},e),t.payload);default:return e}}},,,,,,,,,,function(e,t,n){e.exports={header:"Header_header__2huKZ"}},,function(e,t,n){e.exports={nav:"NavBar_nav__rV9Xp"}},,,function(e,t,n){e.exports={profile:"Profile_profile__b1EmP"}},function(e,t,n){e.exports={status:"ProfileStatus_status__1aoyQ"}},,,function(e,t,n){},function(e,t,n){e.exports={sidebar:"SideBar_sidebar__2CbqP"}},,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(69);var r=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,252)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},c=n(34),a=n.n(c),s=n(0),o=n.n(s),u=n(39),i=n.n(u),l=n(57),d=n.n(l),b=n(5),f=n(24),j=n(19),p=n(7),O=n(1),m=function(){var e=Object(b.c)(p.i),t=Object(b.c)(p.k),n=Object(b.b)();return Object(O.jsx)("div",{children:e?Object(O.jsxs)(O.Fragment,{children:[" ",t,Object(O.jsx)("button",{onClick:function(){n(Object(f.d)())},children:"logOut"})]}):Object(O.jsx)(j.c,{to:"/login",children:"Login"})})};var v=function(){return Object(O.jsxs)("header",{className:d.a.header,children:[Object(O.jsx)("img",{src:"https://brandmark.io/logo-rank/imagecache/701d7e7db0c5bcc76a3f7bd29d4a8890.png",alt:""}),Object(O.jsx)(m,{})]})},g=n(59),h=n.n(g),x=n(4),S=n(43),_=n.n(S);function E(e){var t=Object(x.f)().pathname;return Object(O.jsx)("div",{className:_.a.item,children:Object(O.jsx)(j.b,{to:e.to,className:t===e.to?_.a.active:"",children:e.linkName})})}function C(){return Object(O.jsxs)("nav",{className:h.a.nav,children:[Object(O.jsx)(E,{to:"/profile",linkName:"Profile"}),Object(O.jsx)(E,{to:"/dialogs",linkName:"Messages"}),Object(O.jsx)(E,{to:"/users",linkName:"Users"}),Object(O.jsx)(E,{to:"/friends",linkName:"Friends"}),Object(O.jsx)(E,{to:"/chat",linkName:"Chat"})]})}var k=n(11),w=n(35),y=n(36),A=n(62),T=n.n(A),I=n(23),N=n(2),P=n(10),R=n(45),M=n.n(R),U=n(63),F=n.n(U),D=n(13),L=function(){var e=Object(b.c)(p.p),t=Object(b.c)(p.c),n=Object(b.c)(p.g),r=Object(s.useState)(!1),c=Object(P.a)(r,2),a=c[0],o=c[1],u=Object(s.useState)(e),i=Object(P.a)(u,2),l=i[0],d=i[1],f=Object(b.b)();Object(s.useEffect)((function(){e!==l&&d(e)}),[e]),Object(s.useEffect)((function(){return function(){f(Object(D.h)(""))}}),[f]);var j=function(){o(!1),d(e)},m=t===n;return Object(O.jsx)("div",{onDoubleClick:function(){return o(!a)},children:a&&m?Object(O.jsx)("input",{value:l,onChange:function(e){return d(e.currentTarget.value)},onKeyDown:function(t){switch(t.key){case"Enter":l!==e&&f(Object(D.g)(l)),o(!1);break;case"Escape":j()}},onBlur:j,autoFocus:!0}):Object(O.jsx)("span",{className:F.a.status,children:e||(m?"Click here to change your status":"")})})},J=n(6),G=n(3),W=n.n(G),H=n(46),K=n.n(H),z=n(18),V=function(e){var t=e.cancel,n=(e.confirm,Object(k.b)(p.f)),r=Object(b.b)();return Object(s.useEffect)((function(){var e=document.querySelector("body");return e&&(e.style.overflow="hidden"),function(){e&&(e.style.overflow="auto")}}),[]),Object(O.jsx)("div",{className:K.a.modal,onClick:t,children:Object(O.jsx)("div",{className:K.a.updateProfile,onClick:function(e){return e.stopPropagation()},children:Object(O.jsx)(z.d,{initialValues:{fullName:(null===n||void 0===n?void 0:n.fullName)||"",aboutMe:(null===n||void 0===n?void 0:n.aboutMe)||"",lookingForAJob:(null===n||void 0===n?void 0:n.lookingForAJob)||!1,lookingForAJobDescription:(null===n||void 0===n?void 0:n.lookingForAJobDescription)||"",contacts:{facebook:(null===n||void 0===n?void 0:n.contacts.facebook)||"",github:(null===n||void 0===n?void 0:n.contacts.github)||"",instagram:(null===n||void 0===n?void 0:n.contacts.instagram)||"",mainLink:(null===n||void 0===n?void 0:n.contacts.mainLink)||"",twitter:(null===n||void 0===n?void 0:n.contacts.twitter)||"",vk:(null===n||void 0===n?void 0:n.contacts.vk)||"",youtube:(null===n||void 0===n?void 0:n.contacts.youtube)||"",website:(null===n||void 0===n?void 0:n.contacts.website)||""}},validate:function(e){var t={};return e.lookingForAJobDescription||(t.lookingForAJobDescription="Required"),e.fullName||(t.fullName="Required"),e.aboutMe||(t.aboutMe="Required"),Object.keys(e.contacts).forEach((function(n){var r,c=n;e.contacts[c]&&(r=e.contacts[c],!/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(r))&&(t.contacts||(t.contacts={}),t.contacts[c]="invalid link")})),t},onSubmit:function(){var e=Object(J.a)(W.a.mark((function e(t,n){var c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.setSubmitting,e.next=3,r(Object(D.j)(t));case 3:c(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,n=e.isSubmitting;return Object(O.jsxs)(z.c,{action:"",children:[Object(O.jsxs)("fieldset",{disabled:n,children:[Object(O.jsx)("legend",{children:"Personal information"}),Object(O.jsx)("span",{children:"My name"}),Object(O.jsx)(z.b,{type:"text",name:"fullName",placeholder:"Name"}),Object(O.jsx)(z.a,{name:"fullName",component:"div"}),Object(O.jsx)("span",{children:"About me"}),Object(O.jsx)(z.b,{type:"text",name:"aboutMe",placeholder:"about me"}),Object(O.jsx)(z.a,{name:"aboutMe",component:"div"})]}),Object(O.jsxs)("fieldset",{disabled:n,children:[Object(O.jsx)("legend",{children:"Job information"}),Object(O.jsxs)("div",{children:[Object(O.jsx)(z.b,{type:"checkbox",name:"lookingForAJob"}),Object(O.jsx)("span",{children:"Looking for a job"})]}),t.lookingForAJob&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("span",{children:"Job description"}),Object(O.jsx)(z.b,{type:"text",name:"lookingForAJobDescription",placeholder:"looking for a job description"}),Object(O.jsx)(z.a,{name:"lookingForAJobDescription",component:"div"})]})]}),Object(O.jsxs)("fieldset",{disabled:n,children:[Object(O.jsx)("legend",{children:"Contacts"}),Object.keys(t.contacts).map((function(e){return Object(O.jsxs)("div",{children:[Object(O.jsx)(z.b,{type:"text",name:"contacts.".concat(e),placeholder:e}),Object(O.jsx)(z.a,{name:"contacts.".concat(e),component:"div"})]},e)}))]}),Object(O.jsx)("button",{type:"submit",disabled:n,children:"send"})]})}})})})},q=function(e){var t=e.title,n=e.value;return Object(O.jsxs)("div",{style:{marginLeft:15},children:[t,": ",n]})},B=n.p+"static/media/profileBg.587e6c4c.jpg";function Q(){var e=Object(s.useState)(!1),t=Object(P.a)(e,2),n=t[0],r=t[1],c=Object(b.c)(p.f),a=Object(k.b)(p.c),o=Object(k.b)(p.a),u=Object(s.useState)(!1),i=Object(P.a)(u,2),l=i[0],d=i[1],f=Object(b.b)(),j=Object(x.g)(),m=c&&c.photos.small?c.photos.small:"https://e7.pngegg.com/pngimages/931/209/png-clipart-computer-icons-symbol-avatar-logo-person-with-helmut-miscellaneous-black.png";Object(s.useEffect)((function(){l&&d(!1)}),[o,l]);var v=(null===c||void 0===c?void 0:c.userId)===a;return Object(s.useEffect)((function(){n&&r(!1)}),[c]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("img",{src:B,alt:"background image"}),n&&Object(O.jsx)(V,{cancel:function(){return r(!1)}}),c?Object(O.jsxs)("div",{className:M.a.profileInfo,children:[Object(O.jsxs)("label",{htmlFor:"image",children:[v&&Object(O.jsx)("input",{type:"file",name:"image",id:"image",style:{display:"none"},onChange:function(e){e.currentTarget.files&&f(Object(D.e)(e.currentTarget.files[0]))}}),Object(O.jsx)("img",{src:m,alt:""})]}),Object(O.jsxs)("div",{className:M.a.description,children:[c.fullName,Object(O.jsx)(L,{})]}),c&&a&&!v&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{onClick:function(){d(!0),f(Object(D.i)(Object(N.a)(Object(N.a)({},o),{},{followed:!o.followed})))},disabled:l,children:o.followed?"Unfollow":"Follow"}),Object(O.jsx)("button",{onClick:function(){return j("/dialogs/".concat(null===c||void 0===c?void 0:c.userId))},children:"Send message"})]})]}):Object(O.jsx)(w.a,{}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:["About me: ",null===c||void 0===c?void 0:c.aboutMe]}),Object(O.jsxs)("div",{children:["Looking for a job: ",null!==c&&void 0!==c&&c.lookingForAJob?"yes":"no"]}),(null===c||void 0===c?void 0:c.lookingForAJob)&&Object(O.jsxs)("div",{children:["Job description: ",null===c||void 0===c?void 0:c.lookingForAJobDescription]}),Object(O.jsx)("div",{children:"Contacts:"}),c&&Object.keys(c.contacts).reduce((function(e,t){var n=c.contacts[t];return n?[].concat(Object(I.a)(e),[Object(O.jsx)(q,{value:n,title:t},t)]):e}),[])]}),v&&Object(O.jsx)("button",{onClick:function(){return r(!0)},children:"edit profile"})]})}var X=n(30),Y=n.n(X);var Z=function(e){return Object(O.jsxs)("div",{className:Y.a.postItem,children:[Object(O.jsxs)("div",{className:Y.a.postContent,children:[Object(O.jsx)("img",{src:"https://e7.pngegg.com/pngimages/931/209/png-clipart-computer-icons-symbol-avatar-logo-person-with-helmut-miscellaneous-black.png",alt:""}),Object(O.jsx)("div",{className:Y.a.postMessage,children:e.message})]}),Object(O.jsxs)("div",{className:Y.a.likesCount,children:["Likes: ",e.likesCount]})]})};function $(){console.log("my posts");var e=Object(b.c)(p.n),t=Object(b.c)(p.o),n=Object(b.b)(),r=t.map((function(e){return Object(O.jsx)(Z,{id:e.id,message:e.message,likesCount:e.likesCount},e.id)}));return Object(O.jsxs)("div",{children:["My posts",Object(O.jsx)("div",{children:Object(O.jsx)("textarea",{value:e,onChange:function(e){var t=e.currentTarget.value;n(Object(D.d)(t))},name:"",id:""})}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{onClick:function(){return n(Object(D.a)())},children:"Add Post"})}),r]})}var ee=function(){var e=Object(x.h)().userId,t=Object(b.b)(),n=Object(k.b)(p.c);return Object(s.useEffect)((function(){var r=e;return!r&&n&&(r=n.toString()),r&&t(Object(D.c)(r)),function(){t(Object(D.f)(null))}}),[e,t,n]),Object(O.jsxs)("div",{className:T.a.profile,children:[Object(O.jsx)(Q,{}),Object(O.jsx)($,{})]})},te=n(27),ne=n.n(te),re=n(66),ce=n.n(re);var ae=function(e){var t=e.dialog;return Object(O.jsx)("div",{className:ce.a.dialog,children:Object(O.jsx)(E,{to:"/dialogs/".concat(t.id),linkName:t.userName})})},se=n(15);var oe=n(31),ue=n.n(oe),ie=n(40),le=n.n(ie),de=function(e){var t=e.closeCallback,n=e.messageId,r=Object(b.b)();return Object(O.jsx)("div",{className:le.a.wrapper,onClick:t,children:Object(O.jsx)("div",{className:le.a.menu,children:Object(O.jsxs)("ul",{className:le.a.actionsList,children:[Object(O.jsx)("li",{onClick:function(){r(Object(se.c)(n))},children:"delete"}),Object(O.jsx)("li",{onClick:function(){r(Object(se.h)(n))},children:"set as spam"})]})})})};var be,fe=function(e){var t=e.message,n=Object(s.useState)(!1),r=Object(P.a)(n,2),c=r[0],a=r[1],o=Object(b.b)(),u=Object(k.b)(p.c);Object(s.useEffect)((function(){a(!1)}),[t]);var i="".concat(t.senderId===u?ue.a.userMessage:ue.a.message);return Object(O.jsx)(O.Fragment,{children:t.deleted?Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:ue.a.deleted,children:"message deleted..."}),Object(O.jsx)("span",{className:ue.a.restore,onClick:function(){o(Object(se.f)(t.id))},children:" restore"})]}):Object(O.jsxs)("div",{className:i,onAuxClick:function(e){e.preventDefault(),a(!0)},onContextMenu:function(e){return e.preventDefault()},children:[t.body,c&&Object(O.jsx)(de,{messageId:t.id,closeCallback:function(){return a(!1)}})]})})},je=function(e){var t=e.userId,n=Object(s.useState)(""),r=Object(P.a)(n,2),c=r[0],a=r[1],o=Object(b.b)();return Object(O.jsxs)("div",{className:ne.a.addMessageForm,children:[Object(O.jsx)("textarea",{onChange:function(e){a(e.currentTarget.value)},value:c}),Object(O.jsx)("button",{onClick:function(){o(Object(se.g)(t,c)),a("")},children:"Send"})]})},pe=(be=function(){var e=Object(x.g)(),t=Object(x.h)().userId,n=Object(k.b)(p.h),r=n[0],c=Object(k.b)(p.m),a=Object(b.b)();Object(s.useEffect)((function(){return a(Object(se.d)()),function(){a(Object(se.a)())}}),[a]),Object(s.useEffect)((function(){t&&(a(Object(se.e)(+t)),(null===r||void 0===r?void 0:r.id)!==+t&&a(Object(se.i)(+t)))}),[t,r,a]),Object(s.useEffect)((function(){r&&!t&&e("".concat(r.id))}),[r,t,e]);var o=n.map((function(e){return Object(O.jsx)(ae,{dialog:e},e.id)})),u=c.items&&c.items.map((function(e){return Object(O.jsx)(fe,{message:e},e.id)}));return Object(O.jsxs)("div",{className:ne.a.dialogs,children:[Object(O.jsxs)("div",{className:ne.a.dialogsItems,children:[Object(O.jsx)("h3",{children:"Dialogs:"}),o]}),Object(O.jsx)("div",{className:ne.a.messages,children:u}),r&&Object(O.jsx)(je,{userId:r.id})]})},function(e){return Object(k.b)(p.i)?Object(O.jsx)(be,Object(N.a)({},e)):Object(O.jsx)(x.a,{to:"/login"})}),Oe=o.a.lazy((function(){return n.e(6).then(n.bind(null,255))})),me=o.a.lazy((function(){return n.e(4).then(n.bind(null,254))})),ve=o.a.lazy((function(){return Promise.all([n.e(2),n.e(5)]).then(n.bind(null,253))})),ge=function(){return Object(O.jsxs)(x.d,{children:[Object(O.jsx)(x.b,{path:"/profile",element:Object(O.jsx)(ee,{}),children:Object(O.jsx)(x.b,{path:":userId",element:Object(O.jsx)(ee,{})})}),Object(O.jsx)(x.b,{path:"/dialogs",element:Object(O.jsx)(pe,{}),children:Object(O.jsx)(x.b,{path:":userId",element:Object(O.jsx)(pe,{})})}),Object(O.jsx)(x.b,{path:"/users",element:Object(O.jsx)(o.a.Suspense,{fallback:Object(O.jsx)(O.Fragment,{children:"..."}),children:Object(O.jsx)(me,{})})}),Object(O.jsx)(x.b,{path:"/friends",element:Object(O.jsx)(o.a.Suspense,{fallback:Object(O.jsx)(O.Fragment,{children:"..."}),children:Object(O.jsx)(me,{})})}),Object(O.jsx)(x.b,{path:"/login",element:Object(O.jsx)(o.a.Suspense,{fallback:Object(O.jsx)(O.Fragment,{children:"..."}),children:Object(O.jsx)(ve,{})})}),Object(O.jsx)(x.b,{path:"/chat",element:Object(O.jsx)(o.a.Suspense,{fallback:Object(O.jsx)(O.Fragment,{children:"..."}),children:Object(O.jsx)(Oe,{})})}),Object(O.jsx)(x.b,{path:"*",element:Object(O.jsx)(x.a,{to:"/profile"})})]})},he=n(67),xe=n.n(he),Se=function(){return Object(O.jsx)("div",{className:xe.a.sidebar,children:"sidebar"})},_e=function(){var e=Object(k.b)(p.j),t=Object(b.b)();return Object(s.useEffect)((function(){t(Object(y.b)())}),[t]),Object(O.jsx)(O.Fragment,{children:e?Object(O.jsxs)("div",{className:i.a.appWrapper,children:[Object(O.jsx)(v,{}),Object(O.jsx)(C,{}),Object(O.jsx)(Se,{}),Object(O.jsx)("div",{className:i.a.appWrapperContent,children:Object(O.jsx)("div",{className:i.a.content,children:Object(O.jsx)(ge,{})})})]}):Object(O.jsx)(w.a,{})})},Ee=function(){return Object(O.jsx)(b.a,{store:k.a,children:Object(O.jsx)(j.a,{children:Object(O.jsx)(_e,{})})})};a.a.render(Object(O.jsx)(b.a,{store:k.a,children:Object(O.jsx)(Ee,{})}),document.getElementById("root")),r()}],[[97,1,3]]]);
//# sourceMappingURL=main.a4897f44.chunk.js.map