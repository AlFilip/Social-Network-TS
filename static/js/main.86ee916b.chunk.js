(this["webpackJsonpsocial-network-ts"]=this["webpackJsonpsocial-network-ts"]||[]).push([[0],[,,,,,,function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"l",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"k",(function(){return i})),n.d(t,"m",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"q",(function(){return d})),n.d(t,"r",(function(){return b})),n.d(t,"g",(function(){return f})),n.d(t,"p",(function(){return j})),n.d(t,"h",(function(){return p})),n.d(t,"n",(function(){return O})),n.d(t,"o",(function(){return v})),n.d(t,"a",(function(){return g})),n.d(t,"i",(function(){return m})),n.d(t,"e",(function(){return h}));var r=function(e){return e.auth.isAuth},c=function(e){return e.auth.login},a=function(e){return e.auth.id},o=function(e){return e.auth.captcha},s=function(e){return e.auth.error},i=function(e){return e.app.isInitSuccess},u=function(e){return e.users.items},l=function(e){return e.users.currentPage},d=function(e){return e.users.totalPagesCount},b=function(e){return e.users.term},f=function(e){return e.profile.currentProfile},j=function(e){return e.profile.status},p=function(e){var t;return null===(t=e.profile.currentProfile)||void 0===t?void 0:t.userId},O=function(e){return e.profile.newPostMessage},v=function(e){return e.profile.posts},g=function(e){return e.profile.additionalUserInfo},m=function(e){return e.dialogs.dialogs},h=function(e){return e.dialogs.currentDialog}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return p}));var r=n(28),c=n(58),a=n(59),o=n(12),s=n(26),i=n(45),u=n(23),l=n(35),d=n(5),b=Object(r.combineReducers)({profile:o.b,dialogs:s.a,users:i.a,auth:u.a,app:l.a}),f=[a.a],j=Object(r.createStore)(b,Object(c.composeWithDevTools)(r.applyMiddleware.apply(void 0,f)));function p(e){return Object(d.c)(e)}window.store=j},,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r,c=n(2),a=n(19),o=n.n(a);!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR",e[e.CAPTCHA_IS_REQUIRED=10]="CAPTCHA_IS_REQUIRED"}(r||(r={}));var s={baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"8ac432b4-b12d-401e-8457-1e2c87c081fe"}},i=Object(c.a)(Object(c.a)({},s),{},{baseURL:"https://social-network.samuraijs.com/api/1.0/auth/"}),u=o.a.create(i),l={me:function(){return u.get("me")},login:function(e){return u.post("login",e)},logOut:function(){return u.delete("login")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"d",(function(){return _})),n.d(t,"f",(function(){return k})),n.d(t,"h",(function(){return E})),n.d(t,"c",(function(){return y})),n.d(t,"g",(function(){return T})),n.d(t,"e",(function(){return P})),n.d(t,"j",(function(){return N})),n.d(t,"i",(function(){return I}));var r=n(10),c=n(7),a=n(22),o=n(2),s=n(4),i=n.n(s),u=n(98),l=n(14),d=n(19),b=n.n(d),f=n(11),j=Object(o.a)(Object(o.a)({},f.b),{},{baseURL:"".concat(f.b.baseURL,"profile/")}),p=b.a.create(j),O=function(e){return p.get("".concat(e))},v=function(e){return p.get("status/".concat(e))},g=function(e){return p.put("status",{status:e})},m=function(e){var t=new FormData;return t.append("image",e),p.put("photo",t,{headers:{"Content-type":"multipart/form-data"}})},h=function(e){return p.put("",e)},x={posts:[{id:Object(u.a)(),message:"Hi man",likesCount:50},{id:Object(u.a)(),message:"How are you",likesCount:150}],newPostMessage:"",currentProfile:null,status:"",additionalUserInfo:{}},S=function(){return{type:"ADD_POST"}},_=function(e){return{type:"ON_POST_CHANGE",newValue:e}},k=function(e){return{type:"SET_PROFILE",currentProfile:e}},C=function(e){return{type:"SET_PHOTOS",photos:e}},E=function(e){return{type:"SET_STATUS",status:e}},w=function(e){return{type:"SET_ADDITIONAL_INFO",info:e}},y=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(n){var c,a,o,s,u,d,b,f,j;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e);case 2:return(c=t.sent)&&c.data&&c.data.fullName&&(a=l.b.getUsers({term:c.data.fullName})),o=v(e),t.next=7,Promise.all([a,o]);case 7:s=t.sent,u=Object(r.a)(s,2),d=u[0],b=u[1],f={},200===c.status&&(f.currentProfile=c.data),200===(null===d||void 0===d?void 0:d.status)&&(j=d.data.items.find((function(t){return t.id===+e})))&&(f.additionalUserInfo=j),200===b.status&&(f.status=b.data),n({type:"SET_PROFILE_STATE",payload:f});case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(n){var r,c,a,o,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g(e);case 3:r=t.sent,c=r.status,a=r.data,o=a.messages,s=a.resultCode,200===c&&s===l.a.SUCCESS&&n(E(e)),o[0]&&console.log(o[0]),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(n){var r,c,a,o,s,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m(e);case 3:r=t.sent,c=r.status,a=r.data,o=a.resultCode,s=a.messages,u=a.data.photos,200===c&&o===l.a.SUCCESS&&n(C(u)),s[0]&&console.log(s[0]),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(n,r){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=r().profile.currentProfile,console.log(Object(o.a)(Object(o.a)({},c),e)),t.next=5,h(e);case 5:if(t.t0=c,!t.t0){t.next=9;break}return t.next=9,n(y(c.userId.toString()));case 9:return t.abrupt("return",!0);case 12:t.prev=12,t.t1=t.catch(0),console.log(t.t1);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(n){var r,c,a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.followed?l.b.follow:l.b.unFollow,t.next=4,r(e.id);case 4:c=t.sent,a=c.status,o=c.data.resultCode,200===a&&o===l.a.SUCCESS&&n(w(e)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return e.newPostMessage.trim()?Object(o.a)(Object(o.a)({},e),{},{posts:[].concat(Object(a.a)(e.posts),[{id:Object(u.a)(),message:e.newPostMessage,likesCount:0}]),newPostMessage:""}):Object(o.a)(Object(o.a)({},e),{},{newPostMessage:""});case"ON_POST_CHANGE":return Object(o.a)(Object(o.a)({},e),{},{newPostMessage:t.newValue});case"SET_PROFILE":return Object(o.a)(Object(o.a)({},e),{},{currentProfile:t.currentProfile});case"SET_STATUS":return Object(o.a)(Object(o.a)({},e),{},{status:t.status});case"SET_PHOTOS":return e.currentProfile?Object(o.a)(Object(o.a)({},e),{},{currentProfile:Object(o.a)(Object(o.a)({},e.currentProfile),{},{photos:t.photos})}):e;case"SET_ADDITIONAL_INFO":return Object(o.a)(Object(o.a)({},e),{},{additionalUserInfo:t.info});case"SET_PROFILE_STATE":return Object(o.a)(Object(o.a)({},e),t.payload);default:return e}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return d}));var r,c=n(7),a=n(4),o=n.n(a),s=n(19),i=n.n(s),u=n(11);!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR"}(r||(r={}));var l=i.a.create(u.b),d={getUsers:function(e){return l.get("/users",{params:e})},follow:function(e){return l.post("/follow/".concat(e))},unFollow:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.delete("/follow/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return v}));var r=n(7),c=n(2),a=n(4),o=n.n(a),s=n(11),i=n(14),u=n(19),l=n.n(u),d=function(){return l.a.get("security/get-captcha-url",s.b)},b={id:null,login:null,email:null,captcha:null,isAuth:!1,error:null},f=function(e){return{type:"SET_USER_DATA",payload:e}},j=function(e){return{type:"SET_ERROR",error:e}},p=function(){return function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r,a,i,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.me();case 3:n=e.sent,r=n.status,a=n.data,i=a.messages,u=a.resultCode,l=a.data,200===r&&0===u&&t(f(Object(c.a)(Object(c.a)({},l),{},{isAuth:!0}))),i[0]&&console.log(i[0]),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(n){var r,c,a,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.login(e);case 3:return r=t.sent,c=r.status,a=r.data,i=a.messages,u=a.resultCode,200===c&&u===s.c.SUCCESS?n(p()):u===s.c.ERROR&&i[0]?n(j(i[0])):u===s.c.CAPTCHA_IS_REQUIRED&&(n(j(i[0])),n(g())),t.abrupt("return");case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},v=function(){return function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r,c,a,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.logOut();case 3:n=e.sent,r=n.status,c=n.data,a=c.messages,u=c.resultCode,200===r&&u===i.a.SUCCESS?t(f(b)):a[0]&&console.log(a[0]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},g=function(){return function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d();case 3:n=e.sent,r=n.data.url,t(f({captcha:r})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(c.a)(Object(c.a)({},e),t.payload);case"SET_ERROR":return Object(c.a)(Object(c.a)({},e),{},{error:t.error});default:return e}}},,,function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return v}));var r=n(7),c=n(2),a=n(4),o=n.n(a),s=n(19),i=n.n(s),u=n(11),l=Object(c.a)(Object(c.a)({},u.b),{},{baseURL:"".concat(u.b.baseURL,"dialogs/")}),d=i.a.create(l),b=function(){return d.get("")},f=function(e){return d.get("".concat(e,"/messages"))},j={dialogs:new Map,currentDialog:{}},p=function(e){return{type:"SET_DIALOGS",dialogs:e}},O=function(e){return{type:"SET_CURRENT_DIALOG",dialog:e}},v=function(){return function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b();case 3:if(n=e.sent,r=n.data,200!==n.status||!r.length){e.next=14;break}return c=new Map,e.next=10,Promise.all(r.map((function(e){return f(e.id)})));case 10:a=e.sent,r.forEach((function(e,t){c.set(e,a[t].data)})),t(O(r[0])),t(p(c));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DIALOGS":return Object(c.a)(Object(c.a)({},e),{},{dialogs:t.dialogs});case"SET_CURRENT_DIALOG":return Object(c.a)(Object(c.a)({},e),{},{currentDialog:t.dialog});default:return e}}},,,function(e,t,n){e.exports={postItem:"Post_postItem__19X4w",postContent:"Post_postContent__NaiCM"}},function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2kFjo",dialogsItems:"Dialogs_dialogsItems__s8pKg",dialog:"Dialogs_dialog__3sjE3",messages:"Dialogs_messages__2NsY6",addMessageForm:"Dialogs_addMessageForm__1PCt5"}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(0);var r=n(41),c=n.n(r),a=n(1),o=function(){return Object(a.jsx)("div",{className:c.a.container,children:Object(a.jsxs)("div",{className:c.a.ldsRipple,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(2),c=n(23),a={isInitSuccess:!1,appStatus:"idle"},o=function(){return function(e){var t=e(Object(c.b)());Promise.all([t]).then((function(){e({type:"SET_INIT_SUCCESS"})}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;return"SET_INIT_SUCCESS"===t.type?Object(r.a)(Object(r.a)({},e),{},{isInitSuccess:!0}):e}},,,,,function(e,t,n){e.exports={item:"SuperLink_item__1TDuK",active:"SuperLink_active__3WhmZ"}},function(e,t,n){e.exports={container:"Preloader_container__1hxPd",ldsRipple:"Preloader_ldsRipple__3vP0n"}},function(e,t,n){e.exports={profileInfo:"ProfileInfo_profileInfo__3f-uD",description:"ProfileInfo_description__1V-2D"}},function(e,t,n){e.exports={updateProfile:"UpdateProfile_updateProfile__29J1S",modal:"UpdateProfile_modal__1TRFM",wrapper:"UpdateProfile_wrapper__2KVW2"}},function(e,t,n){e.exports={message:"Message_message__15grG",userMessage:"Message_userMessage__5V8YA"}},function(e,t,n){"use strict";n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return j})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return O})),n.d(t,"c",(function(){return v}));var r=n(7),c=n(22),a=n(2),o=n(4),s=n.n(o),i=n(14),u={items:[],totalItemsCount:0,currentPage:1,pageSize:10,totalPagesCount:1,term:"",friend:void 0},l=function(e){return{type:"FOLLOW",userId:e}},d=function(e){return{type:"UN_FOLLOW",userId:e}},b=function(e){return{type:"SET_USERS",items:e}},f=function(e){return{type:"SET_CURRENT_PAGE",pageNumber:e}},j=function(e){return{type:"SET_SEARCH_PARAMS",payload:e}},p=function(e){return function(){var t=Object(r.a)(s.a.mark((function t(n){var r,c,a,o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.b.follow(e);case 3:r=t.sent,c=r.status,a=r.data,o=a.resultCode,u=a.messages,200===c&&o===i.a.SUCCESS?n(l(e)):u[0]&&console.log(u[0]),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(r.a)(s.a.mark((function t(n){var r,c,a,o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.b.unFollow(e);case 3:if(r=t.sent,c=r.status,a=r.data,o=a.resultCode,u=a.messages,200!==c||o!==i.a.SUCCESS){t.next=13;break}return n(d(e)),t.abrupt("return","OK");case 13:u[0]&&console.log(u[0]);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(r.a)(s.a.mark((function t(n,r){var c,o,u,l,d,f,j,p,O;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=r().users,o=c.currentPage,u=c.friend,l=c.pageSize,d=c.term,t.next=4,i.b.getUsers(Object(a.a)({page:o,count:l,friend:u,term:d},e));case 4:f=t.sent,j=f.data,200===f.status&&j&&(p=j.items,O=j.totalCount,n({type:"SET_TOTAL_ITEMS_COUNT",totalItemsCount:O}),n(b(p))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(a.a)(Object(a.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userId?Object(a.a)(Object(a.a)({},e),{},{followed:!0}):e}))});case"UN_FOLLOW":return Object(a.a)(Object(a.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userId?Object(a.a)(Object(a.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(a.a)(Object(a.a)({},e),{},{items:Object(c.a)(t.items)});case"SET_CURRENT_PAGE":return Object(a.a)(Object(a.a)({},e),{},{currentPage:t.pageNumber});case"SET_TOTAL_ITEMS_COUNT":return Object(a.a)(Object(a.a)({},e),{},{totalItemsCount:t.totalItemsCount,totalPagesCount:Math.ceil(t.totalItemsCount/e.pageSize)});case"SET_SEARCH_PARAMS":return Object(a.a)(Object(a.a)({},e),t.payload);default:return e}}},,,,,,,,,,function(e,t,n){e.exports={header:"Header_header__3qHHZ"}},,function(e,t,n){e.exports={nav:"NavBar_nav__2vr7H"}},,,function(e,t,n){e.exports={profile:"Profile_profile__WSORZ"}},function(e,t,n){e.exports={status:"ProfileStatus_status__1aoyQ"}},,,function(e,t,n){},,function(e,t,n){},,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(66);var r=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,250)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))},c=n(33),a=n.n(c),o=n(0),s=n.n(o),i=(n(71),n(55)),u=n.n(i),l=n(5),d=n(23),b=n(18),f=n(6),j=n(1),p=function(){var e=Object(l.c)(f.j),t=Object(l.c)(f.l),n=Object(l.b)();return Object(j.jsx)("div",{children:e?Object(j.jsxs)(j.Fragment,{children:[" ",t,Object(j.jsx)("button",{onClick:function(){n(Object(d.d)())},children:"logOut"})]}):Object(j.jsx)(b.c,{to:"/login",children:"Login"})})};var O=function(){return Object(j.jsxs)("header",{className:u.a.header,children:[Object(j.jsx)("img",{src:"https://brandmark.io/logo-rank/imagecache/701d7e7db0c5bcc76a3f7bd29d4a8890.png",alt:""}),Object(j.jsx)(p,{})]})},v=n(57),g=n.n(v),m=n(3),h=n(40),x=n.n(h);function S(e){var t=Object(m.f)().pathname;return Object(j.jsx)("div",{className:x.a.item,children:Object(j.jsx)(b.b,{to:e.to,className:t===e.to?x.a.active:"",children:e.linkName})})}function _(){return Object(j.jsxs)("nav",{className:g.a.nav,children:[Object(j.jsx)(S,{to:"/profile",linkName:"Profile"}),Object(j.jsx)(S,{to:"/dialogs",linkName:"Messages"}),Object(j.jsx)(S,{to:"/users",linkName:"Users"}),Object(j.jsx)(S,{to:"/friends",linkName:"Friends"}),Object(j.jsx)(S,{to:"/chat",linkName:"Chat"})]})}var k=n(9),C=n(34),E=n(35),w=n(60),y=n.n(w),T=n(22),P=n(2),N=n(10),I=n(42),R=n.n(I),A=n(61),F=n.n(A),U=n(12),D=function(){var e=Object(l.c)(f.p),t=Object(l.c)(f.c),n=Object(l.c)(f.h),r=Object(o.useState)(!1),c=Object(N.a)(r,2),a=c[0],s=c[1],i=Object(o.useState)(e),u=Object(N.a)(i,2),d=u[0],b=u[1],p=Object(l.b)();Object(o.useEffect)((function(){e!==d&&b(e)}),[e]),Object(o.useEffect)((function(){return function(){p(Object(U.h)(""))}}),[p]);var O=function(){s(!1),b(e)},v=t===n;return Object(j.jsx)("div",{onDoubleClick:function(){return s(!a)},children:a&&v?Object(j.jsx)("input",{value:d,onChange:function(e){return b(e.currentTarget.value)},onKeyDown:function(t){switch(t.key){case"Enter":d!==e&&p(Object(U.g)(d)),s(!1);break;case"Escape":O()}},onBlur:O,autoFocus:!0}):Object(j.jsx)("span",{className:F.a.status,children:e||(v?"Click here to change your status":"")})})},L=n(7),M=n(4),J=n.n(M),H=n(43),z=n.n(H),G=n(17),W=function(e){var t=e.cancel,n=(e.confirm,Object(k.b)(f.g)),r=Object(l.b)();return Object(o.useEffect)((function(){var e=document.querySelector("body");return e&&(e.style.overflow="hidden"),function(){e&&(e.style.overflow="auto")}}),[]),Object(j.jsx)("div",{className:z.a.modal,onClick:t,children:Object(j.jsx)("div",{className:z.a.updateProfile,onClick:function(e){return e.stopPropagation()},children:Object(j.jsx)(G.d,{initialValues:{fullName:(null===n||void 0===n?void 0:n.fullName)||"",aboutMe:(null===n||void 0===n?void 0:n.aboutMe)||"",lookingForAJob:(null===n||void 0===n?void 0:n.lookingForAJob)||!1,lookingForAJobDescription:(null===n||void 0===n?void 0:n.lookingForAJobDescription)||"",contacts:{facebook:(null===n||void 0===n?void 0:n.contacts.facebook)||"",github:(null===n||void 0===n?void 0:n.contacts.github)||"",instagram:(null===n||void 0===n?void 0:n.contacts.instagram)||"",mainLink:(null===n||void 0===n?void 0:n.contacts.mainLink)||"",twitter:(null===n||void 0===n?void 0:n.contacts.twitter)||"",vk:(null===n||void 0===n?void 0:n.contacts.vk)||"",youtube:(null===n||void 0===n?void 0:n.contacts.youtube)||"",website:(null===n||void 0===n?void 0:n.contacts.website)||""}},validate:function(e){var t={};return e.lookingForAJobDescription||(t.lookingForAJobDescription="Required"),e.fullName||(t.fullName="Required"),e.aboutMe||(t.aboutMe="Required"),Object.keys(e.contacts).forEach((function(n){var r,c=n;e.contacts[c]&&(r=e.contacts[c],!/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(r))&&(t.contacts||(t.contacts={}),t.contacts[c]="invalid link")})),t},onSubmit:function(){var e=Object(L.a)(J.a.mark((function e(t,n){var c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.setSubmitting,e.next=3,r(Object(U.j)(t));case 3:c(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,n=e.isSubmitting;return Object(j.jsxs)(G.c,{action:"",children:[Object(j.jsxs)("fieldset",{disabled:n,children:[Object(j.jsx)("legend",{children:"Personal information"}),Object(j.jsx)("span",{children:"My name"}),Object(j.jsx)(G.b,{type:"text",name:"fullName",placeholder:"Name"}),Object(j.jsx)(G.a,{name:"fullName",component:"div"}),Object(j.jsx)("span",{children:"About me"}),Object(j.jsx)(G.b,{type:"text",name:"aboutMe",placeholder:"about me"}),Object(j.jsx)(G.a,{name:"aboutMe",component:"div"})]}),Object(j.jsxs)("fieldset",{disabled:n,children:[Object(j.jsx)("legend",{children:"Job information"}),Object(j.jsxs)("div",{children:[Object(j.jsx)(G.b,{type:"checkbox",name:"lookingForAJob"}),Object(j.jsx)("span",{children:"Looking for a job"})]}),t.lookingForAJob&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{children:"Job description"}),Object(j.jsx)(G.b,{type:"text",name:"lookingForAJobDescription",placeholder:"looking for a job description"}),Object(j.jsx)(G.a,{name:"lookingForAJobDescription",component:"div"})]})]}),Object(j.jsxs)("fieldset",{disabled:n,children:[Object(j.jsx)("legend",{children:"Contacts"}),Object.keys(t.contacts).map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(G.b,{type:"text",name:"contacts.".concat(e),placeholder:e}),Object(j.jsx)(G.a,{name:"contacts.".concat(e),component:"div"})]},e)}))]}),Object(j.jsx)("button",{type:"submit",disabled:n,children:"send"})]})}})})})},V=function(e){var t=e.title,n=e.value;return Object(j.jsxs)("div",{style:{marginLeft:15},children:[t,": ",n]})};function q(){var e=Object(o.useState)(!1),t=Object(N.a)(e,2),n=t[0],r=t[1],c=Object(l.c)(f.g),a=Object(k.b)(f.c),s=Object(k.b)(f.a),i=Object(o.useState)(!1),u=Object(N.a)(i,2),d=u[0],b=u[1],p=Object(l.b)(),O=c&&c.photos.small?c.photos.small:"https://e7.pngegg.com/pngimages/931/209/png-clipart-computer-icons-symbol-avatar-logo-person-with-helmut-miscellaneous-black.png";Object(o.useEffect)((function(){d&&b(!1)}),[s,d]);var v=(null===c||void 0===c?void 0:c.userId)===a;return Object(o.useEffect)((function(){n&&r(!1)}),[c,n]),Object(j.jsxs)(j.Fragment,{children:[n&&Object(j.jsx)(W,{cancel:function(){return r(!1)}}),c?Object(j.jsxs)("div",{className:R.a.profileInfo,children:[Object(j.jsxs)("label",{htmlFor:"image",children:[v&&Object(j.jsx)("input",{type:"file",name:"image",id:"image",style:{display:"none"},onChange:function(e){e.currentTarget.files&&p(Object(U.e)(e.currentTarget.files[0]))}}),Object(j.jsx)("img",{src:O,alt:""})]}),Object(j.jsxs)("div",{className:R.a.description,children:[c.fullName,Object(j.jsx)(D,{})]}),c&&a&&!v&&Object(j.jsx)("button",{onClick:function(){b(!0),p(Object(U.i)(Object(P.a)(Object(P.a)({},s),{},{followed:!s.followed})))},disabled:d,children:s.followed?"Unfollow":"Follow"})]}):Object(j.jsx)(C.a,{}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:["About me: ",null===c||void 0===c?void 0:c.aboutMe]}),Object(j.jsxs)("div",{children:["Looking for a job: ",null!==c&&void 0!==c&&c.lookingForAJob?"yes":"no"]}),(null===c||void 0===c?void 0:c.lookingForAJob)&&Object(j.jsxs)("div",{children:["Job description: ",null===c||void 0===c?void 0:c.lookingForAJobDescription]}),Object(j.jsx)("div",{children:"Contacts:"}),c&&Object.keys(c.contacts).reduce((function(e,t){var n=c.contacts[t];return n?[].concat(Object(T.a)(e),[Object(j.jsx)(V,{value:n,title:t},t)]):e}),[])]}),v&&Object(j.jsx)("button",{onClick:function(){return r(!0)},children:"edit profile"})]})}var K=n(29),B=n.n(K);var Q=function(e){return Object(j.jsxs)("div",{className:B.a.postItem,children:[Object(j.jsxs)("div",{className:B.a.postContent,children:[Object(j.jsx)("img",{src:"https://e7.pngegg.com/pngimages/931/209/png-clipart-computer-icons-symbol-avatar-logo-person-with-helmut-miscellaneous-black.png",alt:""}),Object(j.jsx)("div",{className:B.a.postMessage,children:e.message})]}),Object(j.jsxs)("div",{className:B.a.likesCount,children:["Likes: ",e.likesCount]})]})};function Y(){console.log("my posts");var e=Object(l.c)(f.n),t=Object(l.c)(f.o),n=Object(l.b)(),r=t.map((function(e){return Object(j.jsx)(Q,{id:e.id,message:e.message,likesCount:e.likesCount},e.id)}));return Object(j.jsxs)("div",{children:["My posts",Object(j.jsx)("div",{children:Object(j.jsx)("textarea",{value:e,onChange:function(e){var t=e.currentTarget.value;n(Object(U.d)(t))},name:"",id:""})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:function(){return n(Object(U.a)())},children:"Add Post"})}),r]})}var Z=function(){var e=Object(m.h)().userId,t=Object(l.b)(),n=Object(k.b)(f.c);return Object(o.useEffect)((function(){var r=e;return!r&&n&&(r=n.toString()),r&&t(Object(U.c)(r)),function(){t(Object(U.f)(null))}}),[e,t,n]),Object(j.jsxs)("div",{className:y.a.profile,children:[Object(j.jsx)(q,{}),Object(j.jsx)(Y,{})]})},X=n(30),$=n.n(X),ee=n(64),te=n.n(ee);var ne=function(e){var t=e.dialog,n=e.callback;return Object(j.jsx)("div",{className:te.a.dialog,onClick:function(){return n(t)},children:Object(j.jsx)(S,{to:"/dialogs/".concat(t.id),linkName:t.userName})})},re=n(26);var ce=n(44),ae=n.n(ce);var oe,se=function(e){var t=e.message,n=Object(k.b)(f.c);return Object(j.jsx)("div",{className:"".concat(t.senderId===n?ae.a.userMessage:ae.a.message),children:t.body})},ie=(oe=function(){var e=Object(k.b)(f.i),t=Object(l.b)(),n=Object(k.b)(f.e),r=function(e){t(Object(re.c)(e))},c=Array.from(e,(function(e){var t=Object(N.a)(e,1)[0];return Object(j.jsx)(ne,{dialog:t,callback:r},t.id)})),a=n&&!!e.size&&e.get(n),s=a&&a.items.map((function(e){return Object(j.jsx)(se,{message:e},e.id)})),i=Object(m.g)(),u=Object(m.h)().userId;return Object(o.useEffect)((function(){return t(Object(re.b)()),function(){t(Object(re.d)(new Set))}}),[t]),Object(o.useEffect)((function(){n&&n.id&&!u&&i("".concat(n.id))}),[n,u,i]),Object(j.jsxs)("div",{className:$.a.dialogs,children:[Object(j.jsxs)("div",{className:$.a.dialogsItems,children:[Object(j.jsx)("h3",{children:"Dialogs:"}),c]}),Object(j.jsx)("div",{className:$.a.messages,children:s}),Object(j.jsxs)("div",{className:$.a.addMessageForm,children:[Object(j.jsx)("textarea",{onChange:function(e){},value:"newMessageValue"}),Object(j.jsx)("button",{onClick:function(){},children:"Send"})]})]})},function(e){return Object(k.b)(f.j)?Object(j.jsx)(oe,Object(P.a)({},e)):Object(j.jsx)(m.a,{to:"/login"})}),ue=s.a.lazy((function(){return n.e(6).then(n.bind(null,253))})),le=s.a.lazy((function(){return n.e(4).then(n.bind(null,252))})),de=s.a.lazy((function(){return Promise.all([n.e(2),n.e(5)]).then(n.bind(null,251))})),be=function(){return Object(j.jsxs)(m.d,{children:[Object(j.jsx)(m.b,{path:"/profile",element:Object(j.jsx)(Z,{}),children:Object(j.jsx)(m.b,{path:":userId",element:Object(j.jsx)(Z,{})})}),Object(j.jsx)(m.b,{path:"/dialogs",element:Object(j.jsx)(ie,{}),children:Object(j.jsx)(m.b,{path:":userId",element:Object(j.jsx)(ie,{})})}),Object(j.jsx)(m.b,{path:"/users",element:Object(j.jsx)(s.a.Suspense,{fallback:Object(j.jsx)(j.Fragment,{children:"..."}),children:Object(j.jsx)(le,{})})}),Object(j.jsx)(m.b,{path:"/friends",element:Object(j.jsx)(s.a.Suspense,{fallback:Object(j.jsx)(j.Fragment,{children:"..."}),children:Object(j.jsx)(le,{})})}),Object(j.jsx)(m.b,{path:"/login",element:Object(j.jsx)(s.a.Suspense,{fallback:Object(j.jsx)(j.Fragment,{children:"..."}),children:Object(j.jsx)(de,{})})}),Object(j.jsx)(m.b,{path:"/chat",element:Object(j.jsx)(s.a.Suspense,{fallback:Object(j.jsx)(j.Fragment,{children:"..."}),children:Object(j.jsx)(ue,{})})}),Object(j.jsx)(m.b,{path:"*",element:Object(j.jsx)(m.a,{to:"/profile"})})]})},fe=function(){var e=Object(l.c)(f.k),t=Object(l.b)();return Object(o.useEffect)((function(){t(Object(E.b)())}),[t]),Object(j.jsx)(j.Fragment,{children:e?Object(j.jsxs)("div",{className:"app-wrapper",children:[Object(j.jsx)(O,{}),Object(j.jsx)(_,{}),Object(j.jsx)("div",{className:"app-wrapper-content",children:Object(j.jsx)(be,{})})]}):Object(j.jsx)(C.a,{})})},je=function(){return Object(j.jsx)(l.a,{store:k.a,children:Object(j.jsx)(b.a,{children:Object(j.jsx)(fe,{})})})};a.a.render(Object(j.jsx)(l.a,{store:k.a,children:Object(j.jsx)(je,{})}),document.getElementById("root")),r()}],[[95,1,3]]]);
//# sourceMappingURL=main.86ee916b.chunk.js.map