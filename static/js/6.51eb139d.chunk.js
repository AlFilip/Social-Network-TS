(this["webpackJsonpsocial-network-ts"]=this["webpackJsonpsocial-network-ts"]||[]).push([[6],{253:function(e,t,n){"use strict";n.r(t);var c=n(13),s=n(0),r=n(2),a=n(21),i=n(18),o=n(1),l=function(e){var t=e.userId,n=e.message,c=e.photo,s=e.userName;return c=c||"https://via.placeholder.com/50",Object(o.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",padding:5},children:[Object(o.jsxs)("div",{style:{width:100,display:"flex",flexDirection:"column",alignItems:"center",border:"1px solid rgba(0, 0, 0, 0.5)",borderRadius:14},children:[Object(o.jsx)(i.b,{to:"/profile/"+t,children:Object(o.jsx)("img",{style:{borderRadius:"50%",height:50},src:c,alt:"senderPhoto"})}),Object(o.jsx)("span",{style:{fontSize:"0.7em"},children:s})]}),Object(o.jsx)("span",{style:{paddingLeft:20},children:n})]})},u=function(e){var t=e.data,n=Object(s.useState)([]),i=Object(c.a)(n,2),u=i[0],d=i[1],j=Object(s.useRef)(null);Object(s.useEffect)((function(){return d([].concat(Object(a.a)(u),Object(a.a)(t))),setTimeout((function(){j.current&&j.current.scrollTo(0,j.current.scrollHeight)}),0),function(){}}),[t]);var b=u.map((function(e,t){return Object(o.jsx)(l,Object(r.a)({},e),t)}));return Object(o.jsx)("div",{style:{height:"50vh",width:400,overflowY:"auto",border:"1px solid rgba(0,0,0,0.3)",borderRadius:20,padding:10},ref:j,children:b.length?b:"no new messages"})},d=function(e){var t=e.callback,n=Object(s.useState)(""),r=Object(c.a)(n,2),a=r[0],i=r[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)("textarea",{value:a,onChange:function(e){i(e.currentTarget.value)},onKeyPress:function(e){"Enter"===e.code&&e.ctrlKey&&(t(a),i(""))}}),Object(o.jsx)("button",{onClick:function(e){e.preventDefault(),t(a),i("")},children:"send"})]})};t.default=function(){var e=Object(s.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(null),i=Object(c.a)(a,2),l=i[0],j=i[1];Object(s.useEffect)((function(){var e=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx");return e.onmessage=function(e){r(JSON.parse(e.data))},j(e),function(){e.close()}}),[]);return Object(o.jsxs)("div",{children:[Object(o.jsx)(u,{data:n}),Object(o.jsx)("div",{children:Object(o.jsx)(d,{callback:function(e){l&&e&&l.send(e)}})})]})}}}]);
//# sourceMappingURL=6.51eb139d.chunk.js.map