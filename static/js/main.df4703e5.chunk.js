(this["webpackJsonpsocial-network-ts"]=this["webpackJsonpsocial-network-ts"]||[]).push([[0],[,,,,,,function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"j",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"i",(function(){return i})),n.d(t,"k",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"q",(function(){return d})),n.d(t,"e",(function(){return b})),n.d(t,"p",(function(){return j})),n.d(t,"f",(function(){return f})),n.d(t,"n",(function(){return p})),n.d(t,"o",(function(){return O})),n.d(t,"g",(function(){return v})),n.d(t,"l",(function(){return g})),n.d(t,"m",(function(){return m}));var r=function(e){return e.auth.isAuth},c=function(e){return e.auth.login},a=function(e){return e.auth.id},o=function(e){return e.auth.captcha},s=function(e){return e.auth.error},i=function(e){return e.app.isInitSuccess},u=function(e){return e.users.items},l=function(e){return e.users.currentPage},d=function(e){return e.users.totalPagesCount},b=function(e){return e.profile.currentProfile},j=function(e){return e.profile.status},f=function(e){var t;return null===(t=e.profile.currentProfile)||void 0===t?void 0:t.userId},p=function(e){return e.profile.newPostMessage},O=function(e){return e.profile.posts},v=function(e){return e.dialogs.dialogs},g=function(e){return e.dialogs.messages},m=function(e){return e.dialogs.newMessageValue}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"d",(function(){return _})),n.d(t,"f",(function(){return k})),n.d(t,"h",(function(){return C})),n.d(t,"c",(function(){return y})),n.d(t,"g",(function(){return E})),n.d(t,"e",(function(){return P})),n.d(t,"i",(function(){return N}));var r=n(11),c=n(8),a=n(21),o=n(2),s=n(5),i=n.n(s),u=n(45),l=n(17),d=n(22),b=n.n(d),j=n(12),f=Object(o.a)(Object(o.a)({},j.b),{},{baseURL:"".concat(j.b.baseURL,"profile/")}),p=b.a.create(f),O=function(e){return p.get("".concat(e))},v=function(e){return p.get("status/".concat(e))},g=function(e){return p.put("status",{status:e})},m=function(e){var t=new FormData;return t.append("image",e),p.put("photo",t,{headers:{"Content-type":"multipart/form-data"}})},h=function(e){return p.put("",e)},x={posts:[{id:Object(u.a)(),message:"Hi man",likesCount:50},{id:Object(u.a)(),message:"How are you",likesCount:150}],newPostMessage:"",currentProfile:null,status:""},S=function(){return{type:"ADD_POST"}},_=function(e){return{type:"ON_POST_CHANGE",newValue:e}},k=function(e){return{type:"SET_PROFILE",currentProfile:e}},w=function(e){return{type:"SET_PHOTOS",photos:e}},C=function(e){return{type:"SET_STATUS",status:e}},y=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(n){var c,a,o,s,u,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=O(e),a=v(e),t.next=4,Promise.all([c,a]);case 4:o=t.sent,s=Object(r.a)(o,2),u=s[0],l=s[1],200===u.status&&200===l.status&&(n(k(u.data)),n(C(l.data)));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(n){var r,c,a,o,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g(e);case 3:r=t.sent,c=r.status,a=r.data,o=a.messages,s=a.resultCode,200===c&&s===l.a.SUCCESS&&n(C(e)),o[0]&&console.log(o[0]),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(n){var r,c,a,o,s,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m(e);case 3:r=t.sent,c=r.status,a=r.data,o=a.resultCode,s=a.messages,u=a.data.photos,200===c&&o===l.a.SUCCESS&&n(w(u)),s[0]&&console.log(s[0]),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(n,r){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=r().profile.currentProfile,console.log(Object(o.a)(Object(o.a)({},c),e)),t.next=5,h(e);case 5:if(t.sent,t.t0=c,!t.t0){t.next=10;break}return t.next=10,n(y(c.userId.toString()));case 10:return t.abrupt("return",!0);case 13:t.prev=13,t.t1=t.catch(0),console.log(t.t1);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return e.newPostMessage.trim()?Object(o.a)(Object(o.a)({},e),{},{posts:[].concat(Object(a.a)(e.posts),[{id:Object(u.a)(),message:e.newPostMessage,likesCount:0}]),newPostMessage:""}):Object(o.a)(Object(o.a)({},e),{},{newPostMessage:""});case"ON_POST_CHANGE":return Object(o.a)(Object(o.a)({},e),{},{newPostMessage:t.newValue});case"SET_PROFILE":return Object(o.a)(Object(o.a)({},e),{},{currentProfile:t.currentProfile});case"SET_STATUS":return Object(o.a)(Object(o.a)({},e),{},{status:t.status});case"SET_PHOTOS":return e.currentProfile?Object(o.a)(Object(o.a)({},e),{},{currentProfile:Object(o.a)(Object(o.a)({},e.currentProfile),{},{photos:t.photos})}):e;default:return e}}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r,c=n(2),a=n(22),o=n.n(a);!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR",e[e.CAPTCHA_IS_REQUIRED=10]="CAPTCHA_IS_REQUIRED"}(r||(r={}));var s={baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"8ac432b4-b12d-401e-8457-1e2c87c081fe"}},i=Object(c.a)(Object(c.a)({},s),{},{baseURL:"https://social-network.samuraijs.com/api/1.0/auth/"}),u=o.a.create(i),l={me:function(){return u.get("me")},login:function(e){return u.post("login",e)},logOut:function(){return u.delete("login")}}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var r=n(27),c=n(59),a=n(60),o=n(10),s=n(28),i=n(46),u=n(23),l=n(35),d=n(4),b=Object(r.combineReducers)({profile:o.b,dialogs:s.b,users:i.a,auth:u.a,app:l.a}),j=[a.a],f=Object(r.createStore)(b,Object(c.composeWithDevTools)(r.applyMiddleware.apply(void 0,j)));function p(e){return Object(d.c)(e)}window.store=f},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return d}));var r,c=n(8),a=n(5),o=n.n(a),s=n(22),i=n.n(s),u=n(12);!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR"}(r||(r={}));var l=i.a.create(u.b),d={getUsers:function(e){return l.get("/users",{params:{page:e}})},follow:function(e){return l.post("/follow/".concat(e))},unFollow:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.delete("/follow/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return v}));var r=n(8),c=n(2),a=n(5),o=n.n(a),s=n(12),i=n(17),u=n(22),l=n.n(u),d=function(){return l.a.get("security/get-captcha-url",s.b)},b={id:null,login:null,email:null,captcha:null,isAuth:!1,error:null},j=function(e){return{type:"SET_USER_DATA",payload:e}},f=function(e){return{type:"SET_ERROR",error:e}},p=function(){return function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r,a,i,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.me();case 3:n=e.sent,r=n.status,a=n.data,i=a.messages,u=a.resultCode,l=a.data,200===r&&0===u&&t(j(Object(c.a)(Object(c.a)({},l),{},{isAuth:!0}))),i[0]&&console.log(i[0]),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(n){var r,c,a,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.login(e);case 3:return r=t.sent,c=r.status,a=r.data,i=a.messages,u=a.resultCode,200===c&&u===s.c.SUCCESS?n(p()):u===s.c.ERROR&&i[0]?n(f(i[0])):u===s.c.CAPTCHA_IS_REQUIRED&&(n(f(i[0])),n(g())),t.abrupt("return");case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},v=function(){return function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r,c,a,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.logOut();case 3:n=e.sent,r=n.status,c=n.data,a=c.messages,u=c.resultCode,200===r&&u===i.a.SUCCESS?t(j(b)):a[0]&&console.log(a[0]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},g=function(){return function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d();case 3:n=e.sent,r=n.data.url,t(j({captcha:r})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(c.a)(Object(c.a)({},e),t.payload);case"SET_ERROR":return Object(c.a)(Object(c.a)({},e),{},{error:t.error});default:return e}}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n(21),c=n(2),a=n(45),o={dialogs:[{name:"Sergey",id:1},{name:"Artem",id:2},{name:"Nikolay",id:3}],messages:[{id:Object(a.a)(),text:"\u0417\u0434\u043e\u0440\u043e\u0432\u043e, \u043a\u043e\u0440\u043e\u0432\u0430",owner:!1},{id:Object(a.a)(),text:"\u0417\u0434\u043e\u0440\u043e\u0432\u043e, \u0441\u0430\u043c\u0430",owner:!0}],newMessageValue:""},s="ADD-MESSAGE",i="ON-MESSAGE-CHANGE",u=function(){return{type:s}},l=function(e){return{type:i,newValue:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return e.newMessageValue.trim()?Object(c.a)(Object(c.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:Object(a.a)(),text:e.newMessageValue,owner:!0}]),newMessageValue:""}):Object(c.a)(Object(c.a)({},e),{},{newMessageValue:""});case i:return Object(c.a)(Object(c.a)({},e),{},{newMessageValue:t.newValue});default:return e}}},function(e,t,n){e.exports={postItem:"Post_postItem__19X4w",postContent:"Post_postContent__NaiCM"}},function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2kFjo",dialogsItems:"Dialogs_dialogsItems__s8pKg",dialog:"Dialogs_dialog__3sjE3",messages:"Dialogs_messages__2NsY6",addMessageForm:"Dialogs_addMessageForm__1PCt5"}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(0);var r=n(41),c=n.n(r),a=n(1),o=function(){return Object(a.jsx)("div",{className:c.a.container,children:Object(a.jsxs)("div",{className:c.a.ldsRipple,children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(2),c=n(23),a={isInitSuccess:!1},o=function(){return function(e){var t=e(Object(c.b)());Promise.all([t]).then((function(){e({type:"SET_INIT_SUCCESS"})}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;return"SET_INIT_SUCCESS"===t.type?Object(r.a)(Object(r.a)({},e),{},{isInitSuccess:!0}):e}},,,,,function(e,t,n){e.exports={item:"SuperLink_item__1TDuK",active:"SuperLink_active__3WhmZ"}},function(e,t,n){e.exports={container:"Preloader_container__1hxPd",ldsRipple:"Preloader_ldsRipple__3vP0n"}},function(e,t,n){e.exports={profileInfo:"ProfileInfo_profileInfo__3f-uD",description:"ProfileInfo_description__1V-2D"}},function(e,t,n){e.exports={updateProfile:"UpdateProfile_updateProfile__29J1S",modal:"UpdateProfile_modal__1TRFM",wrapper:"UpdateProfile_wrapper__2KVW2"}},function(e,t,n){e.exports={message:"Message_message__15grG",userMessage:"Message_userMessage__5V8YA"}},,function(e,t,n){"use strict";n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return O}));var r=n(8),c=n(21),a=n(2),o=n(5),s=n.n(o),i=n(17),u={items:[],totalItemsCount:0,currentPage:1,pageSize:10,totalPagesCount:1},l=function(e){return{type:"FOLLOW",userId:e}},d=function(e){return{type:"UN_FOLLOW",userId:e}},b=function(e){return{type:"SET_USERS",items:e}},j=function(e){return{type:"SET_CURRENT_PAGE",pageNumber:e}},f=function(e){return function(){var t=Object(r.a)(s.a.mark((function t(n){var r,c,a,o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.b.follow(e);case 3:r=t.sent,c=r.status,a=r.data,o=a.resultCode,u=a.messages,200===c&&o===i.a.SUCCESS?n(l(e)):u[0]&&console.log(u[0]),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(r.a)(s.a.mark((function t(n){var r,c,a,o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.b.unFollow(e);case 3:r=t.sent,c=r.status,a=r.data,o=a.resultCode,u=a.messages,200===c&&o===i.a.SUCCESS?n(d(e)):u[0]&&console.log(u[0]),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(r.a)(s.a.mark((function t(n){var r,c,a,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.b.getUsers(e);case 3:r=t.sent,c=r.data,200===r.status&&c&&(a=c.items,o=c.totalCount,n({type:"SET_TOTAL_ITEMS_COUNT",totalItemsCount:o}),n(b(a))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(a.a)(Object(a.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userId?Object(a.a)(Object(a.a)({},e),{},{followed:!0}):e}))});case"UN_FOLLOW":return Object(a.a)(Object(a.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userId?Object(a.a)(Object(a.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(a.a)(Object(a.a)({},e),{},{items:Object(c.a)(t.items)});case"SET_CURRENT_PAGE":return Object(a.a)(Object(a.a)({},e),{},{currentPage:t.pageNumber});case"SET_TOTAL_ITEMS_COUNT":return Object(a.a)(Object(a.a)({},e),{},{totalItemsCount:t.totalItemsCount,totalPagesCount:Math.ceil(t.totalItemsCount/e.pageSize)});default:return e}}},,,,,,,,,,function(e,t,n){e.exports={header:"Header_header__3qHHZ"}},,function(e,t,n){e.exports={nav:"NavBar_nav__2vr7H"}},,,function(e,t,n){e.exports={profile:"Profile_profile__WSORZ"}},function(e,t,n){e.exports={status:"ProfileStatus_status__1aoyQ"}},,,function(e,t,n){},,,function(e,t,n){},,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(68);var r=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,250)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))},c=n(33),a=n.n(c),o=n(0),s=n.n(o),i=(n(73),n(56)),u=n.n(i),l=n(4),d=n(23),b=n(18),j=n(6),f=n(1),p=function(){var e=Object(l.c)(j.h),t=Object(l.c)(j.j),n=Object(l.b)();return Object(f.jsx)("div",{children:e?Object(f.jsxs)(f.Fragment,{children:[" ",t,Object(f.jsx)("button",{onClick:function(){n(Object(d.d)())},children:"logOut"})]}):Object(f.jsx)(b.c,{to:"/login",children:"Login"})})};var O=function(){return Object(f.jsxs)("header",{className:u.a.header,children:[Object(f.jsx)("img",{src:"https://brandmark.io/logo-rank/imagecache/701d7e7db0c5bcc76a3f7bd29d4a8890.png",alt:""}),Object(f.jsx)(p,{})]})},v=n(58),g=n.n(v),m=n(3),h=n(40),x=n.n(h);function S(e){var t=Object(m.f)().pathname;return Object(f.jsx)("div",{className:x.a.item,children:Object(f.jsx)(b.b,{to:e.to,className:t===e.to?x.a.active:"",children:e.linkName})})}function _(){return Object(f.jsxs)("nav",{className:g.a.nav,children:[Object(f.jsx)(S,{to:"/profile",linkName:"Profile"}),Object(f.jsx)(S,{to:"/dialogs",linkName:"Messages"}),Object(f.jsx)(S,{to:"/users",linkName:"Users"}),Object(f.jsx)(S,{to:"/chat",linkName:"Chat"})]})}var k=n(15),w=n(34),C=n(35),y=n(61),E=n.n(y),P=n(21),N=n(11),T=n(42),R=n.n(T),A=n(62),I=n.n(A),M=n(10),F=function(){var e=Object(l.c)(j.p),t=Object(l.c)(j.b),n=Object(l.c)(j.f),r=Object(o.useState)(!1),c=Object(N.a)(r,2),a=c[0],s=c[1],i=Object(o.useState)(e),u=Object(N.a)(i,2),d=u[0],b=u[1],p=Object(l.b)();Object(o.useEffect)((function(){e!==d&&b(e)}),[e]),Object(o.useEffect)((function(){return function(){p(Object(M.h)(""))}}),[]);var O=function(){s(!1),b(e)},v=t===n;return Object(f.jsx)("div",{onDoubleClick:function(){return s(!a)},children:a&&v?Object(f.jsx)("input",{value:d,onChange:function(e){return b(e.currentTarget.value)},onKeyDown:function(t){switch(t.key){case"Enter":d!==e&&p(Object(M.g)(d)),s(!1);break;case"Escape":O()}},onBlur:O,autoFocus:!0}):Object(f.jsx)("span",{className:I.a.status,children:e||(v?"Click here to change your status":"")})})},U=n(8),D=n(5),L=n.n(D),J=n(43),V=n.n(J),H=n(16),z=function(e){var t=e.cancel,n=(e.confirm,Object(k.b)(j.e)),r=Object(l.b)();return Object(o.useEffect)((function(){var e=document.querySelector("body");return e&&(e.style.overflow="hidden"),function(){e&&(e.style.overflow="auto")}}),[]),Object(f.jsx)("div",{className:V.a.modal,onClick:t,children:Object(f.jsx)("div",{className:V.a.updateProfile,onClick:function(e){return e.stopPropagation()},children:Object(f.jsx)(H.d,{initialValues:{fullName:(null===n||void 0===n?void 0:n.fullName)||"",aboutMe:(null===n||void 0===n?void 0:n.aboutMe)||"",lookingForAJob:(null===n||void 0===n?void 0:n.lookingForAJob)||!1,lookingForAJobDescription:(null===n||void 0===n?void 0:n.lookingForAJobDescription)||"",contacts:{facebook:(null===n||void 0===n?void 0:n.contacts.facebook)||"",github:(null===n||void 0===n?void 0:n.contacts.github)||"",instagram:(null===n||void 0===n?void 0:n.contacts.instagram)||"",mainLink:(null===n||void 0===n?void 0:n.contacts.mainLink)||"",twitter:(null===n||void 0===n?void 0:n.contacts.twitter)||"",vk:(null===n||void 0===n?void 0:n.contacts.vk)||"",youtube:(null===n||void 0===n?void 0:n.contacts.youtube)||"",website:(null===n||void 0===n?void 0:n.contacts.website)||""}},validate:function(e){var t={};return e.lookingForAJobDescription||(t.lookingForAJobDescription="Required"),e.fullName||(t.fullName="Required"),e.aboutMe||(t.aboutMe="Required"),Object.keys(e.contacts).forEach((function(n){var r,c=n;e.contacts[c]&&(r=e.contacts[c],!/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(r))&&(t.contacts||(t.contacts={}),t.contacts[c]="invalid link")})),t},onSubmit:function(){var e=Object(U.a)(L.a.mark((function e(t,n){var c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.setSubmitting,e.next=3,r(Object(M.i)(t));case 3:e.sent,c(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,n=e.isSubmitting;return Object(f.jsxs)(H.c,{action:"",children:[Object(f.jsxs)("fieldset",{disabled:n,children:[Object(f.jsx)("legend",{children:"Personal information"}),Object(f.jsx)("span",{children:"My name"}),Object(f.jsx)(H.b,{type:"text",name:"fullName",placeholder:"Name"}),Object(f.jsx)(H.a,{name:"fullName",component:"div"}),Object(f.jsx)("span",{children:"About me"}),Object(f.jsx)(H.b,{type:"text",name:"aboutMe",placeholder:"about me"}),Object(f.jsx)(H.a,{name:"aboutMe",component:"div"})]}),Object(f.jsxs)("fieldset",{disabled:n,children:[Object(f.jsx)("legend",{children:"Job information"}),Object(f.jsxs)("div",{children:[Object(f.jsx)(H.b,{type:"checkbox",name:"lookingForAJob"}),Object(f.jsx)("span",{children:"Looking for a job"})]}),t.lookingForAJob&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{children:"Job description"}),Object(f.jsx)(H.b,{type:"text",name:"lookingForAJobDescription",placeholder:"looking for a job description"}),Object(f.jsx)(H.a,{name:"lookingForAJobDescription",component:"div"})]})]}),Object(f.jsxs)("fieldset",{disabled:n,children:[Object(f.jsx)("legend",{children:"Contacts"}),Object.keys(t.contacts).map((function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)(H.b,{type:"text",name:"contacts.".concat(e),placeholder:e}),Object(f.jsx)(H.a,{name:"contacts.".concat(e),component:"div"})]},e)}))]}),Object(f.jsx)("button",{type:"submit",disabled:n,children:"send"})]})}})})})};function G(){var e=Object(o.useState)(!1),t=Object(N.a)(e,2),n=t[0],r=t[1],c=Object(l.c)(j.e),a=Object(k.b)(j.b),s=Object(l.b)(),i=c&&c.photos.small?c.photos.small:"https://e7.pngegg.com/pngimages/931/209/png-clipart-computer-icons-symbol-avatar-logo-person-with-helmut-miscellaneous-black.png";return Object(o.useEffect)((function(){r(!1)}),[c]),Object(f.jsxs)(f.Fragment,{children:[n&&Object(f.jsx)(z,{cancel:function(){return r(!1)}}),c?Object(f.jsxs)("div",{className:R.a.profileInfo,children:[Object(f.jsxs)("label",{htmlFor:"image",children:[c.userId===a&&Object(f.jsx)("input",{type:"file",name:"image",id:"image",style:{display:"none"},onChange:function(e){e.currentTarget.files&&s(Object(M.e)(e.currentTarget.files[0]))}}),Object(f.jsx)("img",{src:i,alt:""})]}),Object(f.jsxs)("div",{className:R.a.description,children:[c.fullName,Object(f.jsx)(F,{})]})]}):Object(f.jsx)(w.a,{}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:["About me: ",null===c||void 0===c?void 0:c.aboutMe]}),Object(f.jsxs)("div",{children:["Looking for a job: ",null!==c&&void 0!==c&&c.lookingForAJob?"yes":"no"]}),(null===c||void 0===c?void 0:c.lookingForAJob)&&Object(f.jsxs)("div",{children:["Job description: ",null===c||void 0===c?void 0:c.lookingForAJobDescription]}),Object(f.jsx)("div",{children:"Contacts:"}),c&&Object.keys(c.contacts).reduce((function(e,t){var n=c.contacts[t];return n?[].concat(Object(P.a)(e),[Object(f.jsx)(W,{value:n,title:t},t)]):e}),[])]}),a===(null===c||void 0===c?void 0:c.userId)&&Object(f.jsx)("button",{onClick:function(){return r(!0)},children:"edit profile"})]})}var W=function(e){var t=e.title,n=e.value;return Object(f.jsxs)("div",{style:{marginLeft:15},children:[t,": ",n]})},q=n(29),K=n.n(q);var B=function(e){return Object(f.jsxs)("div",{className:K.a.postItem,children:[Object(f.jsxs)("div",{className:K.a.postContent,children:[Object(f.jsx)("img",{src:"https://e7.pngegg.com/pngimages/931/209/png-clipart-computer-icons-symbol-avatar-logo-person-with-helmut-miscellaneous-black.png",alt:""}),Object(f.jsx)("div",{className:K.a.postMessage,children:e.message})]}),Object(f.jsxs)("div",{className:K.a.likesCount,children:["Likes: ",e.likesCount]})]})};function Q(){console.log("my posts");var e=Object(l.c)(j.n),t=Object(l.c)(j.o),n=Object(l.b)(),r=t.map((function(e){return Object(f.jsx)(B,{id:e.id,message:e.message,likesCount:e.likesCount},e.id)}));return Object(f.jsxs)("div",{children:["My posts",Object(f.jsx)("div",{children:Object(f.jsx)("textarea",{value:e,onChange:function(e){var t=e.currentTarget.value;n(Object(M.d)(t))},name:"",id:""})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:function(){return n(Object(M.a)())},children:"Add Post"})}),r]})}var Y=function(){var e=Object(m.h)().userId,t=Object(l.b)(),n=Object(k.b)(j.b);return Object(o.useEffect)((function(){return!e&&n&&(e=n.toString()),e&&t(Object(M.c)(e)),function(){t(Object(M.f)(null))}}),[e]),Object(f.jsxs)("div",{className:E.a.profile,children:[Object(f.jsx)(G,{}),Object(f.jsx)(Q,{})]})},Z=n(30),X=n.n(Z),$=n(65),ee=n.n($);var te=function(e){return Object(f.jsx)("div",{className:ee.a.dialog,children:Object(f.jsx)(S,{to:"/dialogs/".concat(e.id),linkName:e.name})})},ne=n(44),re=n.n(ne);var ce=function(e){return Object(f.jsx)("div",{className:"".concat(e.owner?re.a.userMessage:re.a.message),children:e.text})},ae=n(28),oe=n(2);var se,ie=(se=function(){var e=Object(l.c)(j.g),t=Object(l.c)(j.l),n=Object(l.c)(j.m),r=Object(l.b)(),c=e.map((function(e){return Object(f.jsx)(te,{name:e.name,id:e.id},e.id)})),a=t.map((function(e){return Object(f.jsx)(ce,{id:e.id,text:e.text,owner:e.owner},e.id)}));return Object(f.jsxs)("div",{className:X.a.dialogs,children:[Object(f.jsxs)("div",{className:X.a.dialogsItems,children:[Object(f.jsx)("h3",{children:"Dialogs:"}),c]}),Object(f.jsx)("div",{className:X.a.messages,children:a}),Object(f.jsxs)("div",{className:X.a.addMessageForm,children:[Object(f.jsx)("textarea",{onChange:function(e){r(Object(ae.c)(e.currentTarget.value))},value:n}),Object(f.jsx)("button",{onClick:function(){r(Object(ae.a)())},children:"Send"})]})]})},function(e){return Object(k.b)(j.h)?Object(f.jsx)(se,Object(oe.a)({},e)):Object(f.jsx)(m.a,{to:"/login"})}),ue=s.a.lazy((function(){return n.e(6).then(n.bind(null,253))})),le=s.a.lazy((function(){return n.e(4).then(n.bind(null,252))})),de=s.a.lazy((function(){return Promise.all([n.e(2),n.e(5)]).then(n.bind(null,251))})),be=function(){return Object(f.jsxs)(m.d,{children:[Object(f.jsx)(m.b,{path:"/profile",element:Object(f.jsx)(Y,{}),children:Object(f.jsx)(m.b,{path:":userId",element:Object(f.jsx)(Y,{})})}),Object(f.jsx)(m.b,{path:"/dialogs",element:Object(f.jsx)(ie,{})}),Object(f.jsx)(m.b,{path:"/users",element:Object(f.jsx)(s.a.Suspense,{fallback:Object(f.jsx)(f.Fragment,{children:"..."}),children:Object(f.jsx)(le,{})})}),Object(f.jsx)(m.b,{path:"/login",element:Object(f.jsx)(s.a.Suspense,{fallback:Object(f.jsx)(f.Fragment,{children:"..."}),children:Object(f.jsx)(de,{})})}),Object(f.jsx)(m.b,{path:"/chat",element:Object(f.jsx)(s.a.Suspense,{fallback:Object(f.jsx)(f.Fragment,{children:"..."}),children:Object(f.jsx)(ue,{})})}),Object(f.jsx)(m.b,{path:"*",element:Object(f.jsx)(m.a,{to:"/profile"})})]})},je=function(){var e=Object(l.c)(j.i),t=Object(l.b)();return Object(o.useEffect)((function(){t(Object(C.b)())}),[]),Object(f.jsx)(f.Fragment,{children:e?Object(f.jsxs)("div",{className:"app-wrapper",children:[Object(f.jsx)(O,{}),Object(f.jsx)(_,{}),Object(f.jsx)("div",{className:"app-wrapper-content",children:Object(f.jsx)(be,{})})]}):Object(f.jsx)(w.a,{})})},fe=function(){return Object(f.jsx)(l.a,{store:k.a,children:Object(f.jsx)(b.a,{children:Object(f.jsx)(je,{})})})};a.a.render(Object(f.jsx)(l.a,{store:k.a,children:Object(f.jsx)(fe,{})}),document.getElementById("root")),r()}],[[97,1,3]]]);
//# sourceMappingURL=main.df4703e5.chunk.js.map