(this["webpackJsonpsocial-network-ts"]=this["webpackJsonpsocial-network-ts"]||[]).push([[0],[,,,,,,function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"l",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"k",(function(){return i})),n.d(t,"p",(function(){return u})),n.d(t,"m",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"r",(function(){return b})),n.d(t,"s",(function(){return f})),n.d(t,"f",(function(){return j})),n.d(t,"q",(function(){return p})),n.d(t,"h",(function(){return O})),n.d(t,"g",(function(){return m})),n.d(t,"o",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"i",(function(){return h})),n.d(t,"n",(function(){return x}));var r=function(e){return e.auth.isAuth},a=function(e){return e.auth.login},c=function(e){return e.auth.id},s=function(e){return e.auth.captcha},o=function(e){return e.auth.error},i=function(e){return e.app.isInitSuccess},u=function(e){return e.app.screenSize},l=function(e){return e.users.items},d=function(e){return e.users.currentPage},b=function(e){return e.users.totalPagesCount},f=function(e){return e.users.term},j=function(e){return e.profile.currentProfile},p=function(e){return e.profile.status},O=function(e){var t;return null===(t=e.profile.currentProfile)||void 0===t?void 0:t.fullName},m=function(e){var t;return null===(t=e.profile.currentProfile)||void 0===t?void 0:t.userId},g=function(e){return e.profile.posts},v=function(e){return e.profile.additionalUserInfo},h=function(e){return e.dialogs.dialogs},x=function(e){return e.dialogs.messages}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return p}));var r=n(34),a=n(67),c=n(68),s=n(16),o=n(18),i=n(53),u=n(29),l=n(25),d=n(5),b=Object(r.combineReducers)({profile:s.b,dialogs:o.b,users:i.a,auth:u.a,app:l.a}),f=[c.a],j=Object(r.createStore)(b,Object(a.composeWithDevTools)(r.applyMiddleware.apply(void 0,f)));function p(e){return Object(d.c)(e)}window.store=j},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return d}));var r,a=n(8),c=n(3),s=n.n(c),o=n(22),i=n.n(o),u=n(13);!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR"}(r||(r={}));var l=i.a.create(u.b),d={getUsers:function(e){return l.get("/users",{params:e})},follow:function(e){return l.post("/follow/".concat(e))},unFollow:function(){var e=Object(a.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.delete("/follow/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var r,a=n(2),c=n(22),s=n.n(c);!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR",e[e.CAPTCHA_IS_REQUIRED=10]="CAPTCHA_IS_REQUIRED"}(r||(r={}));var o={baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"8ac432b4-b12d-401e-8457-1e2c87c081fe"}},i=Object(a.a)(Object(a.a)({},o),{},{baseURL:"https://social-network.samuraijs.com/api/1.0/auth/"}),u=s.a.create(i),l={me:function(){return u.get("me")},login:function(e){return u.post("login",e)},logOut:function(){return u.delete("login")}}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"e",(function(){return S})),n.d(t,"g",(function(){return k})),n.d(t,"c",(function(){return w})),n.d(t,"f",(function(){return y})),n.d(t,"d",(function(){return I})),n.d(t,"i",(function(){return N})),n.d(t,"h",(function(){return P}));var r=n(10),a=n(8),c=n(21),s=n(2),o=n(3),i=n.n(o),u=n(115),l=n(11),d=n(22),b=n.n(d),f=n(13),j=Object(s.a)(Object(s.a)({},f.b),{},{baseURL:"".concat(f.b.baseURL,"profile/")}),p=b.a.create(j),O=function(e){return p.get("".concat(e))},m=function(e){return p.get("status/".concat(e))},g=function(e){return p.put("status",{status:e})},v=function(e){var t=new FormData;return t.append("image",e),p.put("photo",t,{headers:{"Content-type":"multipart/form-data"}})},h=function(e){return p.put("",e)},x={posts:[{id:Object(u.a)(),message:"\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis fringilla iaculis augue, non vehicula ex. Donec facilisis faucibus iaculis. Vivamus purus purus, auctor vitae imperdiet non, congue ac nulla. Mauris finibus dui in nulla mollis, et blandit diam lacinia. Sed eget ligula in magna tincidunt facilisis varius vitae ipsum. Vivamus luctus sem orci, eu consectetur augue ornare quis. Aliquam erat volutpat. Maecenas finibus velit eget sapien sollicitudin, at aliquam velit molestie. Pellentesque sit amet ex at dolor dignissim ultrices. Pellentesque placerat consequat est ut iaculis. Sed diam magna, bibendum non diam id, rhoncus efficitur urna. Praesent non tincidunt libero. Quisque efficitur, tortor eu imperdiet imperdiet, quam risus consequat erat, at facilisis turpis justo eget libero.\n\nMorbi ac eros vel odio ornare interdum. Morbi pharetra quam eu accumsan interdum. Nullam fringilla imperdiet turpis eu auctor. Aliquam non magna euismod, ultrices tellus a, lobortis felis. Fusce suscipit nulla quis ultricies aliquam. Morbi ac sem sem. Maecenas in ullamcorper ante. Quisque in molestie ex, eu laoreet tortor. Sed laoreet fringilla quam eu vestibulum. Quisque eu cursus enim.",likesCount:50},{id:Object(u.a)(),message:"How are you",likesCount:150}],currentProfile:null,status:"",additionalUserInfo:{}},_=function(e){return{type:"ADD_POST",message:{id:Object(u.a)(),likesCount:0,message:e}}},S=function(e){return{type:"SET_PROFILE",currentProfile:e}},E=function(e){return{type:"SET_PHOTOS",photos:e}},k=function(e){return{type:"SET_STATUS",status:e}},C=function(e){return{type:"SET_ADDITIONAL_INFO",info:e}},w=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n){var a,c,s,o,u,d,b,f,j;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e);case 2:return(a=t.sent)&&a.data&&a.data.fullName&&(c=l.b.getUsers({term:a.data.fullName})),s=m(e),t.next=7,Promise.all([c,s]);case 7:o=t.sent,u=Object(r.a)(o,2),d=u[0],b=u[1],f={},200===a.status&&(f.currentProfile=a.data),200===(null===d||void 0===d?void 0:d.status)&&(j=d.data.items.find((function(t){return t.id===+e})))&&(f.additionalUserInfo=j),200===b.status&&(f.status=b.data),n({type:"SET_PROFILE_STATE",payload:f});case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n){var r,a,c,s,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g(e);case 3:r=t.sent,a=r.status,c=r.data,s=c.messages,o=c.resultCode,200===a&&o===l.a.SUCCESS&&n(k(e)),s[0]&&console.log(s[0]),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n){var r,a,c,s,o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(e);case 3:r=t.sent,a=r.status,c=r.data,s=c.resultCode,o=c.messages,u=c.data.photos,200===a&&s===l.a.SUCCESS&&n(E(u)),o[0]&&console.log(o[0]),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=r().profile.currentProfile,console.log(Object(s.a)(Object(s.a)({},a),e)),t.next=5,h(e);case 5:if(t.t0=a,!t.t0){t.next=9;break}return t.next=9,n(w(a.userId.toString()));case 9:return t.abrupt("return",!0);case 12:t.prev=12,t.t1=t.catch(0),console.log(t.t1);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n){var r,a,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.followed?l.b.follow:l.b.unFollow,t.next=4,r(e.id);case 4:a=t.sent,c=a.status,s=a.data.resultCode,200===c&&s===l.a.SUCCESS&&n(C(e)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return Object(s.a)(Object(s.a)({},e),{},{posts:[t.message].concat(Object(c.a)(e.posts))});case"SET_PROFILE":return Object(s.a)(Object(s.a)({},e),{},{currentProfile:t.currentProfile});case"SET_STATUS":return Object(s.a)(Object(s.a)({},e),{},{status:t.status});case"SET_PHOTOS":return e.currentProfile?Object(s.a)(Object(s.a)({},e),{},{currentProfile:Object(s.a)(Object(s.a)({},e.currentProfile),{},{photos:t.photos})}):e;case"SET_ADDITIONAL_INFO":return Object(s.a)(Object(s.a)({},e),{},{additionalUserInfo:t.info});case"SET_PROFILE_STATE":return Object(s.a)(Object(s.a)({},e),t.payload);default:return e}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return w})),n.d(t,"g",(function(){return y})),n.d(t,"i",(function(){return I})),n.d(t,"h",(function(){return N})),n.d(t,"c",(function(){return P})),n.d(t,"f",(function(){return A}));var r=n(8),a=n(21),c=n(2),s=n(3),o=n.n(s),i=n(22),u=n.n(i),l=n(13),d=Object(c.a)(Object(c.a)({},l.b),{},{baseURL:"".concat(l.b.baseURL,"dialogs/")}),b=u.a.create(d),f=function(){return b.get("")},j=function(e){return b.get("".concat(e,"/messages"))},p=function(e){return b.put("".concat(e))},O=function(e,t){return b.post("".concat(e,"/messages"),{body:t})},m=function(e){return b.post("messages/".concat(e,"/spam"))},g=function(e){return b.delete("messages/".concat(e))},v=function(e){return b.put("messages/".concat(e,"/restore"))},h=n(11),x={dialogs:[],messages:{items:[],error:null,totalCount:0}},_=function(e){return{type:"ADD_MESSAGE",message:e}},S=function(){return{type:"CLEAR_STATE",initState:x}},E=function(e){return{type:"MARK_MESSAGE_AS_DELETED",messageId:e}},k=function(e){return{type:"MARK_MESSAGE_AS_NOT_DELETED",messageId:e}},C=function(){return function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:n=e.sent,r=n.data,200===n.status&&r.length&&t({type:"SET_DIALOGS",dialogs:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(n){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j(e);case 3:r=t.sent,a=r.data,200===r.status&&n({type:"SET_MESSAGES",messages:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e,t){return function(){var n=Object(r.a)(o.a.mark((function n(r){var a,c,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,O(e,t);case 3:a=n.sent,c=a.data,s=c.data.message,c.resultCode===h.a.SUCCESS&&r(_(s)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(n){var r,a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p(e);case 3:r=t.sent,a=r.status,c=r.data.resultCode,200===a&&c===h.a.SUCCESS&&n(C()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return Object(r.a)(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m(e);case 3:n=t.sent,r=n.data.resultCode,200===n.status&&r===h.a.SUCCESS&&console.log('message with id: "'.concat(e,'" successfully sent to spam')),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))},P=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(n){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g(e);case 3:r=t.sent,a=r.data.resultCode,200===r.status&&a===h.a.SUCCESS&&n(E(e)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(n){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(e);case 3:r=t.sent,a=r.data.resultCode,200===r.status&&a===h.a.SUCCESS&&n(k(e)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DIALOGS":return Object(c.a)(Object(c.a)({},e),{},{dialogs:t.dialogs});case"SET_MESSAGES":return Object(c.a)(Object(c.a)({},e),{},{messages:Object(c.a)(Object(c.a)({},t.messages),{},{items:t.messages.items.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{deleted:!1})}))})});case"CLEAR_STATE":return t.initState;case"ADD_MESSAGE":return Object(c.a)(Object(c.a)({},e),{},{messages:Object(c.a)(Object(c.a)({},e.messages),{},{items:[].concat(Object(a.a)(e.messages.items),[Object(c.a)(Object(c.a)({},t.message),{},{deleted:!1})]),totalCount:e.messages.totalCount+1})});case"SET_MESSAGE_VIEWED":var n=e.messages.items.find((function(e){return e.id===t.messageId}));return(null===n||void 0===n?void 0:n.viewed)===t.viewed?e:Object(c.a)(Object(c.a)({},e),{},{messages:Object(c.a)(Object(c.a)({},e.messages),{},{items:e.messages.items.map((function(e){return e.id===t.messageId?Object(c.a)(Object(c.a)({},e),{},{viewed:t.viewed}):e}))})});case"MARK_MESSAGE_AS_DELETED":return Object(c.a)(Object(c.a)({},e),{},{messages:Object(c.a)(Object(c.a)({},e.messages),{},{items:e.messages.items.map((function(e){return e.id===t.messageId?Object(c.a)(Object(c.a)({},e),{},{deleted:!0}):e}))})});case"MARK_MESSAGE_AS_NOT_DELETED":return Object(c.a)(Object(c.a)({},e),{},{messages:Object(c.a)(Object(c.a)({},e.messages),{},{items:e.messages.items.map((function(e){return e.id===t.messageId?Object(c.a)(Object(c.a)({},e),{},{deleted:!1}):e}))})});default:return e}}},,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n(2),a=n(29),c={isInitSuccess:!1,appStatus:"idle",screenSize:null},s=function(e){return{type:"SET_SCREEN_SIZE",screenSize:e}},o=function(){return function(e){var t=e(Object(a.b)());Promise.all([t]).then((function(){e({type:"SET_INIT_SUCCESS"})}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INIT_SUCCESS":return Object(r.a)(Object(r.a)({},e),{},{isInitSuccess:!0});case"SET_SCREEN_SIZE":return Object(r.a)(Object(r.a)({},e),{},{screenSize:t.screenSize});default:return e}}},,function(e,t,n){e.exports={postItem:"PostItem_postItem__3R1Nm",senderInfo:"PostItem_senderInfo__3gJLl",userName:"PostItem_userName__2t377",postContent:"PostItem_postContent__Ujt2Q",postMessage:"PostItem_postMessage__2PRT_"}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return m}));var r=n(8),a=n(2),c=n(3),s=n.n(c),o=n(13),i=n(11),u=n(22),l=n.n(u),d=function(){return l.a.get("security/get-captcha-url",o.b)},b={id:null,login:null,email:null,captcha:null,isAuth:!1,error:null},f=function(e){return{type:"SET_USER_DATA",payload:e}},j=function(e){return{type:"SET_ERROR",error:e}},p=function(){return function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r,c,i,u,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.me();case 3:n=e.sent,r=n.status,c=n.data,i=c.messages,u=c.resultCode,l=c.data,200===r&&0===u&&t(f(Object(a.a)(Object(a.a)({},l),{},{isAuth:!0}))),i[0]&&console.log(i[0]),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(r.a)(s.a.mark((function t(n){var r,a,c,i,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.login(e);case 3:return r=t.sent,a=r.status,c=r.data,i=c.messages,u=c.resultCode,200===a&&u===o.c.SUCCESS?n(p()):u===o.c.ERROR&&i[0]?n(j(i[0])):u===o.c.CAPTCHA_IS_REQUIRED&&(n(j(i[0])),n(g())),t.abrupt("return");case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},m=function(){return function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r,a,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.logOut();case 3:n=e.sent,r=n.status,a=n.data,c=a.messages,u=a.resultCode,200===r&&u===i.a.SUCCESS?t(f(b)):c[0]&&console.log(c[0]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},g=function(){return function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d();case 3:n=e.sent,r=n.data.url,t(f({captcha:r})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(a.a)(Object(a.a)({},e),t.payload);case"SET_ERROR":return Object(a.a)(Object(a.a)({},e),{},{error:t.error});default:return e}}},,,function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2kFjo",dialogsItems:"Dialogs_dialogsItems__s8pKg",dialog:"Dialogs_dialog__3sjE3",messages:"Dialogs_messages__2NsY6",addMessageForm:"Dialogs_addMessageForm__1PCt5"}},,,function(e,t,n){e.exports={profileInfoWrapper:"ProfileInfo_profileInfoWrapper__3HrGi",profileInfo:"ProfileInfo_profileInfo__2oKQW",description:"ProfileInfo_description__1PfUA",profileLinksWrapper:"ProfileInfo_profileLinksWrapper__2dCmj"}},,function(e,t,n){e.exports={addPostForm:"AddPostForm_addPostForm__23UOw",header:"AddPostForm_header__3EoG2",form:"AddPostForm_form__3tkXc",textarea:"AddPostForm_textarea__3Oa3U"}},function(e,t,n){e.exports={message:"Message_message__15grG",userMessage:"Message_userMessage__5V8YA",deleted:"Message_deleted__2jdCO",restore:"Message_restore__3apcv"}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(1);var r=n(51),a=n.n(r),c=n(0),s=function(){return Object(c.jsx)("div",{className:a.a.container,children:Object(c.jsxs)("div",{className:a.a.ldsRipple,children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})})}},,,function(e,t,n){e.exports={appWrapper:"App_appWrapper__25_mc",appWrapperContent:"App_appWrapperContent__3Qvhf"}},function(e,t,n){e.exports={wrapper:"ContextMenu_wrapper__1CUlW",menu:"ContextMenu_menu__1GXSa",actionsList:"ContextMenu_actionsList__tZ5DF"}},,,function(e,t,n){e.exports={item:"SuperLink_item__1TDuK",active:"SuperLink_active__3WhmZ"}},function(e,t,n){e.exports={container:"Preloader_container__1hxPd",ldsRipple:"Preloader_ldsRipple__3vP0n"}},function(e,t,n){e.exports={updateProfile:"UpdateProfile_updateProfile__29J1S",modal:"UpdateProfile_modal__1TRFM",wrapper:"UpdateProfile_wrapper__2KVW2"}},function(e,t,n){"use strict";n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return j})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return O})),n.d(t,"c",(function(){return m}));var r=n(8),a=n(21),c=n(2),s=n(3),o=n.n(s),i=n(11),u={items:[],totalItemsCount:0,currentPage:1,pageSize:10,totalPagesCount:1,term:"",friend:void 0},l=function(e){return{type:"FOLLOW",userId:e}},d=function(e){return{type:"UN_FOLLOW",userId:e}},b=function(e){return{type:"SET_USERS",items:e}},f=function(e){return{type:"SET_CURRENT_PAGE",pageNumber:e}},j=function(e){return{type:"SET_SEARCH_PARAMS",payload:e}},p=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(n){var r,a,c,s,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.b.follow(e);case 3:r=t.sent,a=r.status,c=r.data,s=c.resultCode,u=c.messages,200===a&&s===i.a.SUCCESS?n(l(e)):u[0]&&console.log(u[0]),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(n){var r,a,c,s,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.b.unFollow(e);case 3:if(r=t.sent,a=r.status,c=r.data,s=c.resultCode,u=c.messages,200!==a||s!==i.a.SUCCESS){t.next=13;break}return n(d(e)),t.abrupt("return","OK");case 13:u[0]&&console.log(u[0]);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(r.a)(o.a.mark((function t(n,r){var a,s,u,l,d,f,j,p,O;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=r().users,s=a.currentPage,u=a.friend,l=a.pageSize,d=a.term,t.next=4,i.b.getUsers(Object(c.a)({page:s,count:l,friend:u,term:d},e));case 4:f=t.sent,j=f.data,200===f.status&&j&&(p=j.items,O=j.totalCount,n({type:"SET_TOTAL_ITEMS_COUNT",totalItemsCount:O}),n(b(p))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(c.a)(Object(c.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userId?Object(c.a)(Object(c.a)({},e),{},{followed:!0}):e}))});case"UN_FOLLOW":return Object(c.a)(Object(c.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userId?Object(c.a)(Object(c.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(c.a)(Object(c.a)({},e),{},{items:Object(a.a)(t.items)});case"SET_CURRENT_PAGE":return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.pageNumber});case"SET_TOTAL_ITEMS_COUNT":return Object(c.a)(Object(c.a)({},e),{},{totalItemsCount:t.totalItemsCount,totalPagesCount:Math.ceil(t.totalItemsCount/e.pageSize)});case"SET_SEARCH_PARAMS":return Object(c.a)(Object(c.a)({},e),t.payload);default:return e}}},,,,,,,,,,,function(e,t,n){e.exports={header:"Header_header__2huKZ"}},,function(e,t,n){e.exports={nav:"NavBar_nav__rV9Xp"}},,,function(e,t,n){e.exports={profile:"Profile_profile__b1EmP"}},function(e,t,n){e.exports={status:"ProfileStatus_status__1aoyQ"}},,,function(e,t,n){e.exports={profileLinks:"ProfileLinks_profileLinks__14F4O"}},,function(e,t,n){e.exports={posts:"Posts_posts__2PQVu"}},,function(e,t,n){e.exports={chat:"Chat_chat__1n6oF"}},function(e,t,n){},function(e,t,n){e.exports={sidebar:"SideBar_sidebar__2CbqP"}},function(e,t,n){"use strict";n.r(t);var r=n(10),a=n(1),c=n(77),s=n.n(c),o=n(2),i=n(21),u=n(17),l=n(0),d=function(e){var t=e.userId,n=e.message,r=e.photo;r=r||"https://via.placeholder.com/50";var a=e.userName.split(" ")[0];return Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",padding:5,borderBottom:"2px solid rgba(150, 150, 150, 0.2)"},children:[Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(l.jsx)(u.b,{to:"/profile/"+t,style:{width:50},children:Object(l.jsx)("img",{style:{borderRadius:"50%",height:50,width:50},src:r,alt:"senderPhoto"})}),Object(l.jsx)("span",{style:{fontSize:"0.7em"},children:a.length<10?a:a.substring(0,9)})]}),Object(l.jsx)("span",{style:{paddingLeft:5,alignSelf:"flex-start"},children:n})]})},b=function(e){var t=e.data,n=Object(a.useState)([]),c=Object(r.a)(n,2),s=c[0],u=c[1],b=Object(a.useRef)(null);Object(a.useEffect)((function(){return u([].concat(Object(i.a)(s),Object(i.a)(t))),setTimeout((function(){b.current&&b.current.scrollTo(0,b.current.scrollHeight)}),0),function(){}}),[t]);var f=s.map((function(e,t){return Object(l.jsx)(d,Object(o.a)({},e),t)}));return Object(l.jsx)("div",{style:{height:"50vh",width:"100%",overflowY:"auto",border:"1px solid rgba(0,0,0,0.3)",borderRadius:20},ref:b,children:f.length?f:"no new messages"})},f=function(e){var t=e.callback,n=Object(a.useState)(""),c=Object(r.a)(n,2),s=c[0],o=c[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)("textarea",{value:s,onChange:function(e){o(e.currentTarget.value)},onKeyPress:function(e){"Enter"===e.code&&e.ctrlKey&&(t(s),o(""))}}),Object(l.jsx)("button",{onClick:function(e){e.preventDefault(),t(s),o("")},children:"send"})]})};t.default=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(null),i=Object(r.a)(o,2),u=i[0],d=i[1];Object(a.useEffect)((function(){var e=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx");return e.onmessage=function(e){c(JSON.parse(e.data))},d(e),function(){e.close()}}),[]);return Object(l.jsxs)("div",{className:s.a.chat,children:[Object(l.jsx)(b,{data:n}),Object(l.jsx)("div",{children:Object(l.jsx)(f,{callback:function(e){u&&e&&u.send(e)}})})]})}},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(81);var r=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,267)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},a=n(42),c=n.n(a),s=n(1),o=n.n(s),i=n(46),u=n.n(i),l=n(64),d=n.n(l),b=n(5),f=n(29),j=n(17),p=n(6),O=n(0),m=function(){var e=Object(b.c)(p.j),t=Object(b.c)(p.l),n=Object(b.b)();return Object(O.jsx)("div",{children:e?Object(O.jsxs)(O.Fragment,{children:[" ",t,Object(O.jsx)("button",{onClick:function(){n(Object(f.d)())},children:"logOut"})]}):Object(O.jsx)(j.c,{to:"/login",children:"Login"})})};var g=function(){return Object(O.jsxs)("header",{className:d.a.header,children:[Object(O.jsx)("img",{src:"https://brandmark.io/logo-rank/imagecache/701d7e7db0c5bcc76a3f7bd29d4a8890.png",alt:""}),Object(O.jsx)(m,{})]})},v=n(66),h=n.n(v),x=n(4),_=n(50),S=n.n(_);function E(e){var t=Object(x.f)().pathname;return Object(O.jsx)("div",{className:S.a.item,children:Object(O.jsx)(j.b,{to:e.to,className:t===e.to?S.a.active:"",children:e.linkName})})}function k(){return Object(O.jsxs)("nav",{className:h.a.nav,children:[Object(O.jsx)(E,{to:"/profile",linkName:"Profile"}),Object(O.jsx)(E,{to:"/dialogs",linkName:"Messages"}),Object(O.jsx)(E,{to:"/users",linkName:"Users"}),Object(O.jsx)(E,{to:"/friends",linkName:"Friends"}),Object(O.jsx)(E,{to:"/chat",linkName:"Chat"})]})}var C=n(9),w=n(43),y=n(25),I=n(69),N=n.n(I),P=n(2),A=n(10),T=n(35),R=n.n(T),F=n(70),L=n.n(F),U=n(16),D=function(){var e=Object(b.c)(p.q),t=Object(b.c)(p.c),n=Object(b.c)(p.g),r=Object(s.useState)(!1),a=Object(A.a)(r,2),c=a[0],o=a[1],i=Object(s.useState)(e),u=Object(A.a)(i,2),l=u[0],d=u[1],f=Object(b.b)();Object(s.useEffect)((function(){e!==l&&d(e)}),[e]),Object(s.useEffect)((function(){return function(){f(Object(U.g)(""))}}),[f]);var j=function(){o(!1),d(e)},m=t===n;return Object(O.jsx)("div",{onDoubleClick:function(){return o(!c)},children:c&&m?Object(O.jsx)("input",{value:l,onChange:function(e){return d(e.currentTarget.value)},onKeyDown:function(t){switch(t.key){case"Enter":l!==e&&f(Object(U.f)(l)),o(!1);break;case"Escape":j()}},onBlur:j,autoFocus:!0}):Object(O.jsx)("span",{className:L.a.status,children:e||(m?"Click here to change your status":"")})})},M=n(8),z=n(3),W=n.n(z),q=n(52),J=n.n(q),G=n(15),K=function(e){var t=e.cancel,n=(e.confirm,Object(C.b)(p.f)),r=Object(b.b)();return Object(s.useEffect)((function(){var e=document.querySelector("body");return e&&(e.style.overflow="hidden"),function(){e&&(e.style.overflow="auto")}}),[]),Object(O.jsx)("div",{className:J.a.modal,onClick:t,children:Object(O.jsx)("div",{className:J.a.updateProfile,onClick:function(e){return e.stopPropagation()},children:Object(O.jsx)(G.d,{initialValues:{fullName:(null===n||void 0===n?void 0:n.fullName)||"",aboutMe:(null===n||void 0===n?void 0:n.aboutMe)||"",lookingForAJob:(null===n||void 0===n?void 0:n.lookingForAJob)||!1,lookingForAJobDescription:(null===n||void 0===n?void 0:n.lookingForAJobDescription)||"",contacts:{facebook:(null===n||void 0===n?void 0:n.contacts.facebook)||"",github:(null===n||void 0===n?void 0:n.contacts.github)||"",instagram:(null===n||void 0===n?void 0:n.contacts.instagram)||"",mainLink:(null===n||void 0===n?void 0:n.contacts.mainLink)||"",twitter:(null===n||void 0===n?void 0:n.contacts.twitter)||"",vk:(null===n||void 0===n?void 0:n.contacts.vk)||"",youtube:(null===n||void 0===n?void 0:n.contacts.youtube)||"",website:(null===n||void 0===n?void 0:n.contacts.website)||""}},validate:function(e){var t={};return e.lookingForAJobDescription||(t.lookingForAJobDescription="Required"),e.fullName||(t.fullName="Required"),e.aboutMe||(t.aboutMe="Required"),Object.keys(e.contacts).forEach((function(n){var r,a=n;e.contacts[a]&&(r=e.contacts[a],!/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(r))&&(t.contacts||(t.contacts={}),t.contacts[a]="invalid link")})),t},onSubmit:function(){var e=Object(M.a)(W.a.mark((function e(t,n){var a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.setSubmitting,e.next=3,r(Object(U.i)(t));case 3:a(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,n=e.isSubmitting;return Object(O.jsxs)(G.c,{action:"",children:[Object(O.jsxs)("fieldset",{disabled:n,children:[Object(O.jsx)("legend",{children:"Personal information"}),Object(O.jsx)("span",{children:"My name"}),Object(O.jsx)(G.b,{type:"text",name:"fullName",placeholder:"Name"}),Object(O.jsx)(G.a,{name:"fullName",component:"div"}),Object(O.jsx)("span",{children:"About me"}),Object(O.jsx)(G.b,{type:"text",name:"aboutMe",placeholder:"about me"}),Object(O.jsx)(G.a,{name:"aboutMe",component:"div"})]}),Object(O.jsxs)("fieldset",{disabled:n,children:[Object(O.jsx)("legend",{children:"Job information"}),Object(O.jsxs)("div",{children:[Object(O.jsx)(G.b,{type:"checkbox",name:"lookingForAJob"}),Object(O.jsx)("span",{children:"Looking for a job"})]}),t.lookingForAJob&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("span",{children:"Job description"}),Object(O.jsx)(G.b,{type:"text",name:"lookingForAJobDescription",placeholder:"looking for a job description"}),Object(O.jsx)(G.a,{name:"lookingForAJobDescription",component:"div"})]})]}),Object(O.jsxs)("fieldset",{disabled:n,children:[Object(O.jsx)("legend",{children:"Contacts"}),Object.keys(t.contacts).map((function(e){return Object(O.jsxs)("div",{children:[Object(O.jsx)(G.b,{type:"text",name:"contacts.".concat(e),placeholder:e}),Object(O.jsx)(G.a,{name:"contacts.".concat(e),component:"div"})]},e)}))]}),Object(O.jsx)("button",{type:"submit",disabled:n,children:"send"})]})}})})})},H=n.p+"static/media/profileBg.587e6c4c.jpg",Q=n(23),V=n(28),X=n(74),B=n(73),Z=n.n(B),Y=function(e){var t=e.contacts;return Object(O.jsxs)("div",{className:Z.a.profileLinks,children:[t.facebook&&Object(O.jsx)("a",{href:t.facebook,target:"_blank",rel:"noreferrer",children:Object(O.jsx)(Q.a,{icon:V.a,size:"2x"})}),t.vk&&Object(O.jsx)("a",{href:t.vk,target:"_blank",rel:"noreferrer",children:Object(O.jsx)(Q.a,{icon:V.e,size:"2x"})}),t.github&&Object(O.jsx)("a",{href:t.github,target:"_blank",rel:"noreferrer",children:Object(O.jsx)(Q.a,{icon:V.b,size:"2x"})}),t.instagram&&Object(O.jsx)("a",{href:t.instagram,target:"_blank",rel:"noreferrer",children:Object(O.jsx)(Q.a,{icon:V.c,size:"2x"})}),t.twitter&&Object(O.jsx)("a",{href:t.twitter,target:"_blank",rel:"noreferrer",children:Object(O.jsx)(Q.a,{icon:V.d,size:"2x"})}),t.youtube&&Object(O.jsx)("a",{href:t.youtube,target:"_blank",rel:"noreferrer",children:Object(O.jsx)(Q.a,{icon:V.f,size:"2x"})}),t.website&&Object(O.jsx)("a",{href:t.website,target:"_blank",rel:"noreferrer",children:Object(O.jsx)(Q.a,{icon:X.a,size:"2x"})})]})};function $(){var e=Object(s.useState)(!1),t=Object(A.a)(e,2),n=t[0],r=t[1],a=Object(b.c)(p.f),c=Object(C.b)(p.c),o=Object(C.b)(p.a),i=Object(s.useState)(!1),u=Object(A.a)(i,2),l=u[0],d=u[1],f=Object(b.b)(),j=Object(x.g)(),m=a&&a.photos.large?a.photos.large:"https://e7.pngegg.com/pngimages/931/209/png-clipart-computer-icons-symbol-avatar-logo-person-with-helmut-miscellaneous-black.png";Object(s.useEffect)((function(){l&&d(!1)}),[o,l]);var g=(null===a||void 0===a?void 0:a.userId)===c;return Object(s.useEffect)((function(){n&&r(!1)}),[a]),Object(O.jsxs)("div",{className:R.a.profileInfoWrapper,children:[Object(O.jsx)("img",{src:H,alt:"background image"}),n&&Object(O.jsx)(K,{cancel:function(){return r(!1)}}),a?Object(O.jsxs)("div",{className:R.a.profileInfo,children:[Object(O.jsxs)("label",{htmlFor:"image",children:[g&&Object(O.jsx)("input",{type:"file",name:"image",id:"image",style:{display:"none"},onChange:function(e){e.currentTarget.files&&f(Object(U.d)(e.currentTarget.files[0]))}}),Object(O.jsx)("img",{src:m,alt:""})]}),Object(O.jsxs)("div",{className:R.a.description,children:[a.fullName,g&&Object(O.jsx)("button",{onClick:function(){return r(!0)},children:"edit profile"}),Object(O.jsx)(D,{}),Object(O.jsxs)("div",{children:["About me: ",null===a||void 0===a?void 0:a.aboutMe]}),Object(O.jsxs)("div",{children:["Looking for a job: ",null!==a&&void 0!==a&&a.lookingForAJob?"yes":"no"]}),(null===a||void 0===a?void 0:a.lookingForAJob)&&Object(O.jsxs)("div",{children:["Job description: ",null===a||void 0===a?void 0:a.lookingForAJobDescription]})]}),a&&c&&!g&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{onClick:function(){d(!0),f(Object(U.h)(Object(P.a)(Object(P.a)({},o),{},{followed:!o.followed})))},disabled:l,children:o.followed?"Unfollow":"Follow"}),Object(O.jsx)("button",{onClick:function(){return j("/dialogs/".concat(null===a||void 0===a?void 0:a.userId))},children:"Send message"})]}),Object(O.jsx)("div",{className:R.a.profileLinksWrapper,children:Object(O.jsx)(Y,{contacts:a.contacts})})]}):Object(O.jsx)(w.a,{})]})}var ee=n(75),te=n.n(ee),ne=n(27),re=n.n(ne),ae=n(76);var ce=function(e){var t=Object(C.b)(p.h);return Object(C.b)(p.g),Object(C.b)(p.c),Object(O.jsxs)("div",{className:re.a.postItem,children:[Object(O.jsxs)("div",{className:re.a.senderInfo,children:[Object(O.jsx)("img",{src:"https://e7.pngegg.com/pngimages/931/209/png-clipart-computer-icons-symbol-avatar-logo-person-with-helmut-miscellaneous-black.png",alt:""}),Object(O.jsx)("span",{className:re.a.userName,children:t})]}),Object(O.jsx)("div",{className:re.a.postContent,children:Object(O.jsx)("div",{className:re.a.postMessage,children:e.message})}),Object(O.jsxs)("div",{className:re.a.likesCount,children:[Object(O.jsx)(Q.a,{icon:ae.a,className:re.a.thumb}),e.likesCount]})]})},se=n(37),oe=n.n(se),ie=function(){var e=Object(b.b)();return Object(O.jsxs)("div",{className:oe.a.addPostForm,children:[Object(O.jsx)("h3",{className:oe.a.header,children:"Create New Post"}),Object(O.jsx)(G.d,{initialValues:{message:""},onSubmit:function(t,n){var r=n.setSubmitting,a=(n.setValues,n.resetForm);e(Object(U.a)(t.message)),r(!1),a()},children:function(e){e.values;var t=e.isSubmitting;return Object(O.jsxs)(G.c,{action:"",className:oe.a.form,children:[Object(O.jsx)(G.b,{className:oe.a.textarea,name:"message",as:"textarea",placeholder:"Write something here"}),Object(O.jsx)("button",{type:"submit",disabled:t,children:"Post"})]})}})]})};function ue(){var e=Object(C.b)(p.o),t=Object(x.h)().userId,n=Object(C.b)(p.c),r=e.map((function(e){return Object(O.jsx)(ce,{id:e.id,message:e.message,likesCount:e.likesCount},e.id)}));return Object(O.jsxs)("div",{className:te.a.posts,children:[(!t||+t===n)&&Object(O.jsx)(ie,{}),r]})}var le=n(80),de=function(){var e=Object(x.h)().userId,t=Object(b.b)(),n=Object(C.b)(p.c),r=Object(C.b)(p.p);return Object(s.useEffect)((function(){var r=e;return!r&&n&&(r=n.toString()),r&&t(Object(U.c)(r)),function(){t(Object(U.e)(null))}}),[e,t,n]),Object(O.jsxs)("div",{className:N.a.profile,children:[Object(O.jsx)($,{}),("XL"===r||"L"===r)&&Object(O.jsx)(le.default,{}),Object(O.jsx)(ue,{})]})},be=n(32),fe=n.n(be),je=n(78),pe=n.n(je);var Oe=function(e){var t=e.dialog;return Object(O.jsx)("div",{className:pe.a.dialog,children:Object(O.jsx)(E,{to:"/dialogs/".concat(t.id),linkName:t.userName})})},me=n(18);var ge=n(21),ve=n(38),he=n.n(ve),xe=n(47),_e=n.n(xe),Se=function(e){var t=e.closeCallback,n=e.messageId,r=Object(b.b)();return Object(O.jsx)("div",{className:_e.a.wrapper,onClick:t,children:Object(O.jsx)("div",{className:_e.a.menu,children:Object(O.jsxs)("ul",{className:_e.a.actionsList,children:[Object(O.jsx)("li",{onClick:function(){r(Object(me.c)(n))},children:"delete"}),Object(O.jsx)("li",{onClick:function(){r(Object(me.h)(n))},children:"set as spam"})]})})})};var Ee,ke=function(e){var t=e.message,n=Object(s.useState)(!1),r=Object(A.a)(n,2),a=r[0],c=r[1],o=Object(b.b)(),i=Object(C.b)(p.c);Object(s.useEffect)((function(){c(!1)}),[t]);var u="".concat(t.senderId===i?he.a.userMessage:he.a.message);return Object(O.jsx)(O.Fragment,{children:t.deleted?Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{className:he.a.deleted,children:"message deleted..."}),Object(O.jsx)("span",{className:he.a.restore,onClick:function(){o(Object(me.f)(t.id))},children:" restore"})]}):Object(O.jsxs)("div",{className:u,onAuxClick:function(e){e.preventDefault(),c(!0)},onContextMenu:function(e){return e.preventDefault()},children:[t.body.split("<br />").filter((function(e){return e})).reduce((function(e,t){return[].concat(Object(ge.a)(e),[t,Object(O.jsx)("br",{})])}),[]),a&&Object(O.jsx)(Se,{messageId:t.id,closeCallback:function(){return c(!1)}})]})})},Ce=function(e){var t=e.userId,n=Object(s.useState)(""),r=Object(A.a)(n,2),a=r[0],c=r[1],o=Object(b.b)();return Object(O.jsxs)("div",{className:fe.a.addMessageForm,children:[Object(O.jsx)("textarea",{onChange:function(e){c(e.currentTarget.value)},value:a}),Object(O.jsx)("button",{onClick:function(){o(Object(me.g)(t,a)),c("")},children:"Send"})]})},we=(Ee=function(){var e=Object(x.g)(),t=Object(x.h)().userId,n=Object(C.b)(p.i),r=n[0],a=Object(C.b)(p.n),c=Object(b.b)();Object(s.useEffect)((function(){return c(Object(me.d)()),function(){c(Object(me.a)())}}),[c]),Object(s.useEffect)((function(){t&&(c(Object(me.e)(+t)),(null===r||void 0===r?void 0:r.id)!==+t&&c(Object(me.i)(+t)))}),[t,r,c]),Object(s.useEffect)((function(){r&&!t&&e("".concat(r.id))}),[r,t,e]);var o=n.map((function(e){return Object(O.jsx)(Oe,{dialog:e},e.id)})),i=a.items&&a.items.map((function(e){return Object(O.jsx)(ke,{message:e},e.id)}));return Object(O.jsxs)("div",{className:fe.a.dialogs,children:[Object(O.jsxs)("div",{className:fe.a.dialogsItems,children:[Object(O.jsx)("h3",{children:"Dialogs:"}),o]}),Object(O.jsx)("div",{className:fe.a.messages,children:i}),r&&Object(O.jsx)(Ce,{userId:r.id})]})},function(e){return Object(C.b)(p.j)?Object(O.jsx)(Ee,Object(P.a)({},e)):Object(O.jsx)(x.a,{to:"/login"})}),ye=o.a.lazy((function(){return Promise.resolve().then(n.bind(null,80))})),Ie=o.a.lazy((function(){return n.e(4).then(n.bind(null,269))})),Ne=o.a.lazy((function(){return Promise.all([n.e(2),n.e(5)]).then(n.bind(null,268))})),Pe=function(){return Object(O.jsxs)(x.d,{children:[Object(O.jsx)(x.b,{path:"/profile",element:Object(O.jsx)(de,{}),children:Object(O.jsx)(x.b,{path:":userId",element:Object(O.jsx)(de,{})})}),Object(O.jsx)(x.b,{path:"/dialogs",element:Object(O.jsx)(we,{}),children:Object(O.jsx)(x.b,{path:":userId",element:Object(O.jsx)(we,{})})}),Object(O.jsx)(x.b,{path:"/users",element:Object(O.jsx)(o.a.Suspense,{fallback:Object(O.jsx)(O.Fragment,{children:"..."}),children:Object(O.jsx)(Ie,{})})}),Object(O.jsx)(x.b,{path:"/friends",element:Object(O.jsx)(o.a.Suspense,{fallback:Object(O.jsx)(O.Fragment,{children:"..."}),children:Object(O.jsx)(Ie,{})})}),Object(O.jsx)(x.b,{path:"/login",element:Object(O.jsx)(o.a.Suspense,{fallback:Object(O.jsx)(O.Fragment,{children:"..."}),children:Object(O.jsx)(Ne,{})})}),Object(O.jsx)(x.b,{path:"/chat",element:Object(O.jsx)(o.a.Suspense,{fallback:Object(O.jsx)(O.Fragment,{children:"..."}),children:Object(O.jsx)(ye,{})})}),Object(O.jsx)(x.b,{path:"*",element:Object(O.jsx)(x.a,{to:"/profile"})})]})},Ae=n(79),Te=n.n(Ae),Re=function(){return Object(O.jsx)("div",{className:Te.a.sidebar,children:"sidebar"})},Fe=function(){var e=Object(C.b)(p.k),t=Object(C.b)(p.p),n=Object(b.b)();return Object(s.useEffect)((function(){n(Object(y.b)())}),[n]),Object(s.useEffect)((function(){var e=function(){var e=window.innerWidth;e<480&&"XS"!==t?n(Object(y.c)("XS")):e>1440&&"XL"!==t?n(Object(y.c)("XL")):e>1280&&e<=1440&&"L"!==t?n(Object(y.c)("L")):e>768&&e<=1280&&"M"!==t?n(Object(y.c)("M")):e>480&&e<=768&&"S"!==t&&n(Object(y.c)("S"))};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(O.jsx)(O.Fragment,{children:e?Object(O.jsxs)("div",{className:u.a.appWrapper,children:[Object(O.jsx)(g,{}),Object(O.jsx)(k,{}),Object(O.jsx)(Re,{}),Object(O.jsx)("div",{className:u.a.appWrapperContent,children:Object(O.jsx)("div",{className:u.a.content,children:Object(O.jsx)(Pe,{})})})]}):Object(O.jsx)(w.a,{})})},Le=function(){return Object(O.jsx)(b.a,{store:C.a,children:Object(O.jsx)(j.a,{children:Object(O.jsx)(Fe,{})})})};c.a.render(Object(O.jsx)(b.a,{store:C.a,children:Object(O.jsx)(Le,{})}),document.getElementById("root")),r()}],[[112,1,3]]]);
//# sourceMappingURL=main.e17eff0c.chunk.js.map