(this["webpackJsonpsocial-network-ts"]=this["webpackJsonpsocial-network-ts"]||[]).push([[6],{247:function(e,t,c){"use strict";c.r(t);var n=c(11),s=c(0),r=c(2),a=c(15),i=c(14),o=c(1),l=function(e){var t=e.userId,c=e.message,n=e.photo,s=e.userName;return n=n||"https://via.placeholder.com/50",Object(o.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",padding:5},children:[Object(o.jsxs)("div",{style:{width:100,display:"flex",flexDirection:"column",alignItems:"center",border:"1px solid rgba(0, 0, 0, 0.5)",borderRadius:14},children:[Object(o.jsx)(i.c,{to:"profile/"+t,children:Object(o.jsx)("img",{style:{borderRadius:"50%",height:50},src:n,alt:"senderPhoto"})}),Object(o.jsx)("span",{style:{fontSize:"0.7em"},children:s})]}),Object(o.jsx)("span",{style:{paddingLeft:20},children:c})]})},u=function(e){var t=e.data,c=Object(s.useState)([]),i=Object(n.a)(c,2),u=i[0],d=i[1],j=Object(s.useRef)(null);Object(s.useEffect)((function(){return d([].concat(Object(a.a)(u),Object(a.a)(t))),setTimeout((function(){j.current&&j.current.scrollTo(0,j.current.scrollHeight)}),0),function(){}}),[t]);var b=u.map((function(e,t){return Object(o.jsx)(l,Object(r.a)({},e),t)}));return Object(o.jsx)("div",{style:{height:"50vh",width:400,overflowY:"auto",border:"1px solid rgba(0,0,0,0.3)",borderRadius:20,padding:10},ref:j,children:b.length?b:"no new messages"})},d=function(e){var t=e.callback,c=Object(s.useState)(""),r=Object(n.a)(c,2),a=r[0],i=r[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)("textarea",{value:a,onChange:function(e){i(e.currentTarget.value)},onKeyPress:function(e){"Enter"===e.code&&e.ctrlKey&&(t(a),i(""))}}),Object(o.jsx)("button",{onClick:function(e){e.preventDefault(),t(a),i("")},children:"send"})]})};t.default=function(){var e=Object(s.useState)([]),t=Object(n.a)(e,2),c=t[0],r=t[1],a=Object(s.useState)(null),i=Object(n.a)(a,2),l=i[0],j=i[1];Object(s.useEffect)((function(){var e=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx");e.onmessage=function(e){r(JSON.parse(e.data))},j(e)}),[]);return Object(o.jsxs)("div",{children:[Object(o.jsx)(u,{data:c}),Object(o.jsx)("div",{children:Object(o.jsx)(d,{callback:function(e){l&&e&&l.send(e)}})})]})}}}]);
//# sourceMappingURL=6.dc3bb419.chunk.js.map